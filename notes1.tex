\documentclass[numbers=enddot,12pt,final,onecolumn,notitlepage]{scrartcl}%
\usepackage[headsepline,footsepline,manualmark]{scrlayer-scrpage}
\usepackage[all,cmtip]{xy}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{framed}
\usepackage{comment}
\usepackage{color}
\usepackage{hyperref}
\usepackage[sc]{mathpazo}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage{needspace}
\usepackage{tabls}
\usepackage{wasysym}
%TCIDATA{OutputFilter=latex2.dll}
%TCIDATA{Version=5.50.0.2960}
%TCIDATA{LastRevised=Friday, February 01, 2019 09:55:10}
%TCIDATA{SuppressPackageManagement}
%TCIDATA{<META NAME="GraphicsSave" CONTENT="32">}
%TCIDATA{<META NAME="SaveForMode" CONTENT="1">}
%TCIDATA{BibliographyScheme=Manual}
%TCIDATA{Language=American English}
%BeginMSIPreambleData
\providecommand{\U}[1]{\protect\rule{.1in}{.1in}}
%EndMSIPreambleData
\usetikzlibrary{arrows}
\newcounter{exer}
\newcounter{exera}
\numberwithin{exer}{section}
\theoremstyle{definition}
\newtheorem{theo}{Theorem}[section]
\newenvironment{theorem}[1][]
{\begin{theo}[#1]\begin{leftbar}}
{\end{leftbar}\end{theo}}
\newtheorem{lem}[theo]{Lemma}
\newenvironment{lemma}[1][]
{\begin{lem}[#1]\begin{leftbar}}
{\end{leftbar}\end{lem}}
\newtheorem{prop}[theo]{Proposition}
\newenvironment{proposition}[1][]
{\begin{prop}[#1]\begin{leftbar}}
{\end{leftbar}\end{prop}}
\newtheorem{defi}[theo]{Definition}
\newenvironment{definition}[1][]
{\begin{defi}[#1]\begin{leftbar}}
{\end{leftbar}\end{defi}}
\newtheorem{remk}[theo]{Remark}
\newenvironment{remark}[1][]
{\begin{remk}[#1]\begin{leftbar}}
{\end{leftbar}\end{remk}}
\newtheorem{coro}[theo]{Corollary}
\newenvironment{corollary}[1][]
{\begin{coro}[#1]\begin{leftbar}}
{\end{leftbar}\end{coro}}
\newtheorem{conv}[theo]{Convention}
\newenvironment{convention}[1][]
{\begin{conv}[#1]\begin{leftbar}}
{\end{leftbar}\end{conv}}
\newtheorem{quest}[theo]{Question}
\newenvironment{question}[1][]
{\begin{quest}[#1]\begin{leftbar}}
{\end{leftbar}\end{quest}}
\newtheorem{warn}[theo]{Warning}
\newenvironment{conclusion}[1][]
{\begin{warn}[#1]\begin{leftbar}}
{\end{leftbar}\end{warn}}
\newtheorem{conj}[theo]{Conjecture}
\newenvironment{conjecture}[1][]
{\begin{conj}[#1]\begin{leftbar}}
{\end{leftbar}\end{conj}}
\newtheorem{exam}[theo]{Example}
\newenvironment{example}[1][]
{\begin{exam}[#1]\begin{leftbar}}
{\end{leftbar}\end{exam}}
\newtheorem{exmp}[exer]{Exercise}
\newenvironment{exercise}[1][]
{\begin{exmp}[#1]\begin{leftbar}}
{\end{leftbar}\end{exmp}}
\newenvironment{statement}{\begin{quote}}{\end{quote}}
\newenvironment{fineprint}{\begin{small}}{\end{small}}
\iffalse
\newenvironment{proof}[1][Proof]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}
\newenvironment{question}[1][Question]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}
\fi
\let\sumnonlimits\sum
\let\prodnonlimits\prod
\let\cupnonlimits\bigcup
\let\capnonlimits\bigcap
\renewcommand{\sum}{\sumnonlimits\limits}
\renewcommand{\prod}{\prodnonlimits\limits}
\renewcommand{\bigcup}{\cupnonlimits\limits}
\renewcommand{\bigcap}{\capnonlimits\limits}
\setlength\tablinesep{3pt}
\setlength\arraylinesep{3pt}
\setlength\extrarulesep{3pt}
\voffset=0cm
\hoffset=-0.7cm
\setlength\textheight{22.5cm}
\setlength\textwidth{15.5cm}
\newcommand\arxiv[1]{\href{http://www.arxiv.org/abs/#1}{\texttt{arXiv:#1}}}
\newenvironment{verlong}{}{}
\newenvironment{vershort}{}{}
\newenvironment{noncompile}{}{}
\excludecomment{verlong}
\includecomment{vershort}
\excludecomment{noncompile}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\id}{\operatorname{id}}
\newcommand{\lcm}{\operatorname{lcm}}
\newcommand{\rev}{\operatorname{rev}}
\newcommand{\powset}[2][]{\ifthenelse{\equal{#2}{}}{\mathcal{P}\left(#1\right)}{\mathcal{P}_{#1}\left(#2\right)}}
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\tup}[1]{\left( #1 \right)}
\newcommand{\ive}[1]{\left[ #1 \right]}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\lf}[2]{#1^{\underline{#2}}}
\newcommand{\underbrack}[2]{\underbrace{#1}_{\substack{#2}}}
\newcommand{\horrule}[1]{\rule{\linewidth}{#1}}
\newcommand{\nnn}{\nonumber\\}
\newcommand{\sslash}{\mathbin{/\mkern-6mu/}}
\ihead{Math 4281 notes}
\ohead{page \thepage}
\cfoot{}
\begin{document}

\title{UMN Spring 2019 Math 4281 notes}
\author{Darij Grinberg}
\date{
%TCIMACRO{\TeXButton{today}{\today} }%
%BeginExpansion
\today
%EndExpansion
}
\maketitle
\tableofcontents

\section{Introduction}

This file will contain the notes from the Math 4281 class (``Introduction to
Modern Algebra'') I am teaching at UMN in Spring 2019. I will type the first
draft directly in the classroom, and subsequently expand it into proper
writing. Occasionally, I will also add extra sections not covered in class.

The website of the class is
\url{http://www-users.math.umn.edu/~dgrinber/19s/index.html} ; you will find
homework sets there.

\subsection{Organisation}

See \href{http://www-users.math.umn.edu/~dgrinber/19s/syll.pdf}{the syllabus}
for the organization of this class and for the homework.

\textbf{Homework:} Expect HW0 soon, but this is not an actual homework, but
rather a \textquotedblleft demo\textquotedblright\ file that you should read
or glance over. It should give you an idea of how certain kinds of proofs can
be written and about the $\sum$ notation. You can also use it as a template if
you want to write your homework in \LaTeX\ (which I highly encourage).

HW1 will appear soon after.

\subsection{Literature}

Many books have been written about abstract algebra. I have only a passing
familiarity with most of them. Some of the ``bibles'' of the subject (bulky
texts covering lots of material) are Dummit/Foote \cite{Dummit-Foote}, Knapp
\cite{Knapp1} and \cite{Knapp2} (both freely available), van der Waerden
\cite{Waerden1} and \cite{Waerden2} (one of the oldest texts on modern
algebra, thus rather dated, but still as readable as ever).
%Two other textbooks are Bosch \cite{Bosch} and Artin \cite{Artin}.


Of course, any book longer than 200 pages likely goes further than our course
will (unless it is full of details or solved exercises or printed in really
large letters). Thus, let me recommend some more introductory sources.
Siksek's lecture notes \cite{Siksek} are a readable introduction that is a lot
more amusing than I had ever expected an algebra text to be. Goodman's free
book \cite{Goodman} combines introductory material with geometric motivation
and applications, such as the classification of regular polyhedra and
2-dimensional crystals. In a sense, it is a great complement to our
ungeometric course. Pinter's \cite{Pinter} often gets used in classes like
ours. Armstrong's notes \cite{Armstrong} cover a significant part of what we
do (and he will likely have notes for a second course written up by the end of
this semester).

Keith Conrad's blurbs \cite{Conrad*} are not a book, as they only cover
selected topics. But at pretty much every topic they cover, they are one of
the best sources (clear, full of examples, and often going fairly deep). We
shall follow one of them particularly closely: the one on Gaussian integers
\cite{Conrad-Gauss}.

We will use some basic linear algebra, all of which can be found in Hefferon's
book \cite{Hefferon} (but we won't need all of this book). As far as
determinants are concerned, we will briefly build up their theory; we refer to
\cite[Section 12 \& Appendix B]{Strickland} for proofs (and to \cite[Chapter
6]{detnotes} for a really detailed and formal treatment).

This course will begin (after some motivating questions) with a survey of
elementary number theory. This is in itself a deep subject (despite the name)
with a long history (\href{https://en.wikipedia.org/wiki/Plimpton_322}{perhaps
as old as mathematics}), and of course we will just scratch the surface. Books
like \cite{NiZuMo91}, \cite{Burton} and \cite{Uspensky-Heaslet} cover a lot
more than we can do. The Gallier/Quaintance survey \cite{Gallier-RSA} covers a
good amount of basics and more.

We assume that the reader is familiar with the commonplaces of mathematical
argumentation, such as induction (including strong induction),
\textquotedblleft WLOG\textquotedblright\ arguments, proof by contradiction,
summation signs ($\sum$) and polynomials (a vague notion of polynomials will
suffice; we will give a precise definition when it becomes necessary). If not,
several texts can be helpful in achieving such familiarity: e.g.,
\cite[particularly Chapters 1--5]{LeLeMe}, \cite{Hammack}, \cite{Day}.

\begin{center}
\textbf{2019-01-23 lecture}
\end{center}

\subsection{The plan}

The material I am going to cover is mostly standard. However, the order in
which I will go through it is somewhat unusual: I will spend a lot of time
studying the basic examples before defining abstract notions such as
``group'', ``monoid'', ``ring'' and ``field''. This way, once I come to these
notions, you'll already have many examples to work with. (Don't be fooled by
the word ``example'': We will prove a lot about them, much of which is neither
straightforward nor easy.)

First, I will show some motivating questions that are easy to state yet
require abstract algebra to prove. We will hopefully see their answers by the
end of this class. (Some of them can also be answered elementarily, without
using abstract algebra, but such answers usually take more work and are harder
to find.)

\subsection{\label{subsect.intro.sum-of-2sq}Motivation: $n=x^{2}+y^{2}$}

A \textit{perfect square} means the square of an integer. Thus, the perfect
squares are
\[
0^{2} = 0, \qquad1^{2} = 1, \qquad2^{2} = 4, \qquad3^{2} = 9, \qquad4^{2} =
16, \qquad\ldots.
\]


Here is an old problem (first solved by Pierre de Fermat in 1640, but
apparently already studied by Diophantus in the 3rd Century):

\begin{question}
\label{quest.intro.sum-of-2sq.1} What integers can be written as sums of two
perfect squares?
\end{question}

For example, $5$ can be written in this way, since $5=2^{2}+1^{2}$.

So can $4$, since $4=2^{2}+0^{2}$. (Keep in mind that $0$ is a perfect square.)

However, $7$ cannot be written in this way. In fact, if we had $7 = a^{2} +
b^{2}$ for two integers $a$ and $b$, then $a^{2}$ and $b^{2}$ would have to be
$\leq7$ (since $a^{2}$ and $b^{2}$ are always $\geq0$, no matter what sign $a$
and $b$ have); but the only perfect squares that are $\leq7$ are $0,1,4$, and
there is no way to write $7$ as a sum of two of these perfect squares (just
check all the possibilities).

For a similar but simpler reason, no negative number can be written as a sum
of two perfect squares.

We can of course approach Question~\ref{quest.intro.sum-of-2sq.1} using a
computer: It is very easy to check, for a given integer $n$, whether $n$ is a
sum of two perfect squares. (Just check all possibilities for $a$ and $b$ for
the validity of the equation $n = a^{2} + b^{2}$. You only need to try $a$ and
$b$ belonging to $\left\{  0, 1, \ldots, \left\lfloor \sqrt{n} \right\rfloor
\right\}  $, where $\left\lfloor y \right\rfloor $ (for a real number $y$)
denotes the smallest integer that is less or equal than $y$ (also known as
``$y$ rounded down'').) If you do this, you will see that among the first
$101$ nonnegative integers, the ones that can be written as sums of two
perfect squares are precisely
\begin{align*}
&  0, 1, 2, 4, 5, 8, 9, 10, 13, 16, 17, 18, 20, 25, 26, 29,\\
&  32, 34, 36, 37, 40, 41, 45, 49, 50, 52, 53, 58, 61, 64,\\
&  65, 68, 72, 73, 74, 80, 81, 82, 85, 89, 90, 97, 98, 100 .
\end{align*}
Having this data, you can look up the sequence in \href{https://oeis.org/}{the
Online Encyclopedia of Integer Sequences (short OEIS)}, and see that the
sequence of these integers is known as \href{https://oeis.org/A001481}{OEIS
Sequence A001481}. In the ``Comments'' field, you can read a lot of what is
known about it (albeit in telegraphic style).

For example, one of the comments says ``Closed under multiplication''. This is
short for ``if you multiply two entries of the sequence, then the product will
again be an entry of the sequence''. In other words, if you multiply two
integers that are sums of two perfect squares, then you get another sum of two
perfect squares. Why is this so?

It turns out that there is a \textquotedblleft simple\textquotedblright%
\ reason for this: the identity
\begin{equation}
\left(  a^{2}+b^{2}\right)  \left(  c^{2}+d^{2}\right)  =\left(  ad+bc\right)
^{2}+\left(  ac-bd\right)  ^{2}, \label{eq.intro.sum-of-2sq.sum*sum}%
\end{equation}
which holds for arbitrary reals $a,b,c,d$ (and thus, in particular, for
integers). This is known as
\href{https://en.wikipedia.org/wiki/Brahmagupta-Fibonacci_identity}{the
Brahmagupta-Fibonacci identity}, and of course can easily be proven by
expanding both sides. But how would you come up with such an identity?

If you stare at the above sequence long enough, you may also discover another
pattern: An integer of the form $4k+3$ with integer $k$ (that is, an integer
that is larger by $3$ than a multiple of $4$) can never be written as a sum of
two perfect squares. (Thus, $3, 7, 11, 15, 19, 23, \ldots$ cannot be written
in this way.) This does not account for all integers that cannot be written in
this way, but it does provide some clues to the answer that we will later see.
In order to prove this observation, we shall need basic modular arithmetic (or
at least division with remainder); we will see this proof very soon.

Further questions can be asked. One of them is: Given an integer $n$, how many
ways are there to represent $n$ as a sum of two perfect squares? This is
actually several questions masquerading as one, since it is not so clear what
a ``way'' is. Do $5 = 1^{2} + 2^{2}$ and $5 = 2^{2} + 1^{2}$ count as two
different ways? What about $5 = 1^{2} + 2^{2}$ versus $5 = \left(  -1 \right)
^{2} + 2^{2}$ (here, the perfect squares are the same, but do we really want
to count the squares or rather the numbers we are squaring?).

Let me formalize the question as follows:

\begin{question}
\label{quest.intro.sum-of-2sq.2} Let $n$ be an integer.

\textbf{(a)} How many pairs $\left(  a, b \right)  \in\mathbb{N}^{2}$ are
there that satisfy $n = a^{2} + b^{2}$ ? Here, and in the following,
$\mathbb{N}$ denotes the set $\left\{  0, 1, 2, \ldots\right\}  $ of all
nonnegative integers.

\textbf{(b)} How many pairs $\left(  a, b \right)  \in\mathbb{Z}^{2}$ are
there that satisfy $n = a^{2} + b^{2}$ ? Here, and in the following,
$\mathbb{Z}$ denotes the set $\left\{  \ldots, -2, -1, 0, 1, 2, \ldots
\right\}  $ of all integers.

\textbf{(c)} How do these counts change if we count \textbf{unordered} pairs
instead (i.e., count $\left(  a, b \right)  $ and $\left(  b, a \right)  $ as
one only)?
\end{question}

Note that when I say ``pair'', I always mean ``ordered pair'' by default,
unless I explicitly say ``unordered pair''.

Again, a little bit of programming easily yields answers to all three parts of
this question for small values of $n$, and the resulting data can be plugged
into the OEIS and yields lots of information.

\begin{proof}
[First steps toward answering Question~\ref{quest.intro.sum-of-2sq.2}%
.]\textbf{(a)} I claim that the number of such pairs is even unless $n$ is
twice a perfect square (i.e., unless $n = 2m^{2}$ for some integer $m$); in
the latter case, this number is odd instead.

Why? Let me define a \textit{solution} to be a pair $\left(  a, b \right)  $
such that $n = a^{2} + b^{2}$. So I want to know whether the number of
solutions is even or odd. But we have $a^{2} + b^{2} = b^{2} + a^{2}$ for all
$a$ and $b$. Thus, if $\left(  a, b \right)  $ is a solution, then so is
$\left(  b, a \right)  $. Hence, the solutions themselves ``come in pairs'',
with each solution $\left(  a, b \right)  $ being matched to the solution
$\left(  b, a \right)  $, unless there is a solution $\left(  a, b \right)  $
with $a = b$ (because such a solution would be matched to itself, and thus not
form an actual pair). But solutions $\left(  a, b \right)  $ with $a = b$ are
easy to classify: If $n$ is twice a perfect square, then there is exactly one
such solution (namely, $\left(  \sqrt{n/2}, \sqrt{n/2} \right)  $); otherwise
there is none (because $n = a^{2} + b^{2}$ with $a = b$ leads to $n = b^{2} +
b^{2} = 2b^{2}$). Since we know that all the other solutions ``come in
pairs'', we thus conclude that the number of solutions is odd if $n$ is twice
a perfect square and even otherwise. This proves our claim.

Of course, we have not made much headway into
Question~\ref{quest.intro.sum-of-2sq.2}; knowing whether a number is even or
odd is far from knowing the number itself. But I think the argument above was
worth showing; similar reasoning is used a lot in algebra.

\textbf{(b)} By reasoning analogous to the one we used in part \textbf{(a)},
we can see that the number of such pairs will be divisible by $8$ whenever $n$
is neither a perfect square nor twice a perfect square. Indeed, this relies on
the fact that
\begin{align*}
a^{2} + b^{2}  &  = b^{2} + a^{2} = \left(  -a \right)  ^{2} + b^{2} = b^{2} +
\left(  -a \right)  ^{2} = a^{2} + \left(  -b \right)  ^{2} = \left(  -b
\right)  ^{2} + a^{2}\\
&  = \left(  -a \right)  ^{2} + \left(  -b \right)  ^{2} = \left(  -b \right)
^{2} + \left(  -a \right)  ^{2}%
\end{align*}
for all $a$ and $b$. Thus the pairs $\left(  a, b \right)  \in\mathbb{Z}^{2}$
that satisfy $n = a^{2} + b^{2}$ don't just come in pairs; they come in sets
of $8$ (namely, each $\left(  a, b \right)  $ comes in a set with $\left(  b,
a \right)  $, $\left(  -a, b \right)  $, $\left(  b, -a \right)  $, $\left(
a, -b \right)  $, $\left(  -b, a \right)  $, $\left(  -a, -b \right)  $ and
$\left(  -b, -a \right)  $). These sets of $8$ can ``degenerate'' to smaller
sets when some of their elements coincide, but this can only happen when $n$
is a perfect square (in which case we can have $\left(  a, b \right)  =
\left(  -a, b \right)  $ for example) or twice a perfect square (in which case
we can have $\left(  a, b \right)  = \left(  b, a \right)  $ or $\left(  a, b
\right)  = \left(  -b, -a \right)  $ or other such coincidences). (Check this!)

\textbf{(c)} We can reduce this to parts \textbf{(a)} and \textbf{(b)}.
Indeed:\footnote{In the rest of this argument, \textquotedblleft
pair\textquotedblright\ will always mean \textquotedblleft pair $\left(
a,b\right)  $ satisfying $n=a^{2}+b^{2}$\textquotedblright.}

\begin{itemize}
\item When $n$ is not twice a perfect square, the number of unordered pairs
will be half the number of ordered pairs, since each unordered pair $\left(
u,v\right)  _{\text{unordered}}$ corresponds to precisely two ordered pairs
$\left(  u,v\right)  $ and $\left(  v,u\right)  $.

\item When $n$ is twice a perfect square, we have%
\begin{align*}
&  \left(  \text{the number of unordered pairs}\right) \\
&  =\dfrac{\left(  \text{the number of ordered pairs}\right)  +\left(
\text{the number of pairs with }a=b\right)  }{2}.
\end{align*}
Indeed, each unordered pair $\left(  u,v\right)  _{\text{unordered}}$
corresponds to precisely two ordered pairs $\left(  u,v\right)  $ and $\left(
v,u\right)  $ unless $u=v$, in which case it corresponds to only one ordered
pair. Thus, if we multiply the number of unordered pairs by $2$, then we
\textbf{overcount} the number of ordered pairs, because we are counting the
pairs $\left(  u,v\right)  $ with $u=v$ (that is, the pairs with $a=b$) twice.
So we get $\left(  \text{the number of ordered pairs}\right)  +\left(
\text{the number of pairs with }a=b\right)  $. This proves our above formula.

What is the number of pairs with $a=b$ ? If $n=0$, then it is $1$ (and the
only such pair is $\left(  0,0\right)  $). Otherwise, it is $1$ if we are
counting pairs in $\mathbb{N}^{2}$ (and the only such pair is $\left(
\sqrt{n/2},\sqrt{n/2}\right)  $), and is $2$ if we are counting pairs in
$\mathbb{Z}^{2}$ (and the only two such pairs are $\left(  \sqrt{n/2}%
,\sqrt{n/2}\right)  $ and $\left(  -\sqrt{n/2},-\sqrt{n/2}\right)  $).
\qedhere

\end{itemize}
\end{proof}

Note that sums of squares have a geometric meaning (going back to Pythagoras):
Two real numbers $a$ and $b$ satisfy $a^{2} + b^{2} = n$ (for a given integer
$n \geq0$) if and only if the point with Cartesian coordinates $\left(  a, b
\right)  $ lies on the circle with center $0$ and radius $\sqrt{n}$. This will
actually prove a valuable insight that will lead us to the answers to the
above questions.

Just as a teaser: There are formulas for all three parts of
Question~\ref{quest.intro.sum-of-2sq.2}, in terms of divisors of $n$ of the
forms $4k+1$ and $4k+3$. We will see these formulas after we have properly
understood the concept of Gaussian integers.

\subsection{\label{subsect.intro.algnum}Motivation: Algebraic numbers}

\begin{noncompile}
Recall how the number system was constructed. In a way, each extension was
done in order to allow a certain operation to proceed: The natural numbers
were extended to the integers in order to allow subtraction (in all cases, not
just when we are subtracting a smaller number from a larger). Then, the
integers were extended to the rational numbers in order to allow division (in
all reasonable cases\footnote{``Reasonable'' in this case means that division
by $0$ is still forbidden. If we allowed division by $0$ as well, then our
``rational numbers'' would all be equal to each other and therefore a huge
step back from the integers.}, not just when the division works out
remainder-less). Then, the rational numbers were extended to the real numbers
in order to allow limits (in all reasonable cases). Finally, the real numbers
were (or will be -- we will see this in more detail) extended to the complex
numbers in order to allow square roots.

From an algebraic point of view, the step from the rational numbers to the
real numbers is somewhat of an overkill. Algebraists often want to work with
roots, particularly roots of polynomials; ideally, every polynomial of degree
$n$ should have ``all'' $n$ roots (counted with multiplicity), so it can be
factored into linear factors. This does indeed happen once you get to complex
numbers (the so-called ``Fundamental Theorem of Algebra''), but the road there
is bumpy and non-algebraic (at the very least, you need continuity to prove
the ``Fundamental Theorem of Algebra''). So algebraists have wondered whether
there is a cheaper way to buy roots for their polynomials -- without having to
pay the price of analysis. (The question became even more relevant when they
started working over arbitrary fields and even commutative rings -- in a
sense, ``alternative number systems'' in which analysis won't help you.)

The answer is ``yes'', and we will eventually see how. But for now, let me
focus on a simple problem that is already interesting if one works inside the
real numbers.
\end{noncompile}

A real number $z$ is said to be \textit{algebraic} if there exists a nonzero
polynomial $P$ with rational coefficients such that $P\left(  z \right)  = 0$.
In other words, a real number $z$ is algebraic if and only if it is a root of
a nonzero polynomial with rational coefficients.

(If you know the complex numbers, you can replace ``real'' by ``complex'' in
this definition; but we shall only see real numbers in this little
motivational subsection.)

Examples:

\begin{itemize}
\item Each rational number $a$ is algebraic (being a root of the nonzero
polynomial $x-a$ with rational coefficients).

\item The number $\sqrt{2}$ is algebraic (being a root of the nonzero
polynomial $x^{2}-2$).

\item The number $\sqrt[3]{5}$ is algebraic (being a root of $x^{3}-5$).

\item All the roots of the polynomial $f\left(  x \right)  := \dfrac{3}%
{2}x^{4}+17x^{3}-12x+\dfrac{9}{4}$ (whatever they are) are algebraic. \newline
Speaking of these roots, what are they? Using a computer, one can show that
this polynomial $f\left(  x \right)  $ has $4$ real roots ($-11.269\ldots,
-0.960\ldots, 0.198\ldots, 0.697\ldots$), which can be written as complicated
expressions with radicals (i.e., $\sqrt[k]{}$ signs), though complex numbers
appear in these expressions (despite the roots being real!). All this does not
matter to the fact that they are algebraic :)

\item All the roots of the polynomial $g\left(  x \right)  := x^{7} - x^{5} +
1$ are algebraic. \newline This polynomial has only one real root. This root
cannot be written as an expression with radicals (as can be proven using
\href{https://en.wikipedia.org/wiki/Galois_theory}{Galois theory} -- indeed,
the discovery of this theory greatly motivated the development of abstract
algebra).
%(Nor can the remaining $6$ complex roots be.)
Nevertheless, it is algebraic, by definition. (The same holds for the
remaining $6$ complex roots of $g$ -- we are working with real numbers here
only for the sake of familiarity.)

\item The most famous number that is not algebraic is $\pi$. This is a famous
result of Lindemann, but it belongs to analysis, not to algebra, because $\pi$
is not defined algebraically in the first place (it is defined as the length
of a curve or as an area of a curved region -- but either of these definitions
boils down to a limit of a sequence).

\item The second most famous number that is not algebraic is
\href{https://en.wikipedia.org/wiki/E_(mathematical_constant)}{Euler's number
$e$} (the basis of the natural logarithm). Again, analysis is needed to define
$e$, and thus also to prove its non-algebraicity.
\end{itemize}

Numbers that are not algebraic are called
\href{https://en.wikipedia.org/wiki/Transcendental_number}{\textit{transcendental}%
}. We shall not study them much, since most of them do not come from algebra.
Instead, we shall try our hands at the following question:

\begin{question}
\label{quest.intro.algnum.1} \textbf{(a)} Is the sum of two (or, more
generally, finitely many) algebraic numbers always algebraic?

\textbf{(b)} What if we replace ``sum'' by ``difference'' or ``product''?
\end{question}

Let me motivate why this is a natural question to ask. The sum of two integers
is still an integer; the sum of two rational numbers is still a rational
number. These facts are fundamental; without them we could hardly work with
integers and rational numbers. If a similar fact would not hold for algebraic
numbers, it would mean that the algebraic numbers are not a good ``number
system'' to work in; on a practical level, it would mean that (e.g.) if we
defined a function on the set of all algebraic numbers, then we could not plug
a sum of algebraic numbers into it.

\begin{proof}
[Attempts at answering Question~\ref{quest.intro.algnum.1} \textbf{(a)}.]Let
us try a particularly simple example of a sum of two algebraic numbers: Let
$w$ be $\sqrt{2} + \sqrt{3}$. Is $w$ algebraic?

To answer this question affirmatively, we need to find a nonzero polynomial
$f\left(  x \right)  $ with rational coefficients that has $w$ as a root.

Just looking at the equality $w = \sqrt{2} + \sqrt{3}$, we cannot directly
eyeball such an $f$. The problem, in a sense, is that there are too many
(namely, two) square roots in this equality.

However, if we square this equality, then we obtain
\[
w^{2}=\left(  \sqrt{2}+\sqrt{3}\right)  ^{2}=2+2\sqrt{2}\cdot\sqrt{3}+3
=5+2\sqrt{6},
\]
which is an equality with only one square root (a sign of progress).
Subtracting $5$ from this equality (in order to ``isolate'' this remaining
square root), we obtain $w^{2}-5=2\sqrt{6}$. If we now square this equality,
then we obtain $\left(  w^{2}-5\right)  ^{2}=\left(  2\sqrt{6}\right)
^{2}=24$. At this point all square roots are gone, and we are left with an
equality that contains rational numbers and $w$ only! We can further rewrite
it as $\left(  w^{2} - 5 \right)  ^{2} - 24 = 0$. Thus, $w$ is a root of the
polynomial $f\left(  x \right)  := \left(  x^{2}-5\right)  ^{2}-24 =
x^{4}-10x^{2}+1$. This means that $w$ is algebraic (since $f$ is nonzero).

Let us try a more complicated example: Let $z$ be the number $\sqrt
{2}+\sqrt[3]{2}$. Is $z$ algebraic? The squaring trick no longer works, since
squaring $\sqrt{2} + \sqrt[3]{2}$ does not reduce the number of radicals (=
root signs). Let's instead try rewriting $z = \sqrt{2} + \sqrt[3]{2}$ as
$z-\sqrt{2}=\sqrt[3]{2}$. Cubing this equality, we obtain $\left(  z-\sqrt
{2}\right)  ^{3} =2$. In view of
\begin{align*}
\left(  z-\sqrt{2}\right)  ^{3} = z^{3}-3z^{2}\sqrt{2}+3z\left(  \sqrt
{2}\right)  ^{2}-\left(  \sqrt{2}\right)  ^{3}%
\end{align*}
(this is a particular case of the identity $\left(  a-b\right)  ^{3}%
=a^{3}-3a^{2}b+3ab^{2}-b^{3}$, which is one form of the Binomial Theorem for
exponent $3$), this becomes
\[
z^{3}-3z^{2}\sqrt{2}+3z\left(  \sqrt{2}\right)  ^{2}-\left(  \sqrt{2}\right)
^{3} = 2.
\]
This simplifies to%
\begin{align*}
z^{3}-3\sqrt{2}z^{2}+6z-2\sqrt{2}  &  =2.
\end{align*}
Let us transform this inequality in such a way that all terms with a $\sqrt
{2}$ in them end up on the right hand side while all the remaining terms end
up on the left. We thus obtain
\[
z^{3}+6z-2 \left(  3z^{2}+2\right)  \sqrt{2} .
\]
Now, squaring this equality yields
\[
\left(  z^{3}+6z-2\right)  ^{2}=\left(  3z^{2}+2\right)  ^{2}2.
\]
Hence, $z$ is a root of the polynomial
\[
g\left(  x \right)  := \left(  x^{3}+6x-2\right)  ^{2}-2\left(  3x^{2}%
+2\right)  ^{2}=x^{6}-6x^{4}-4x^{3}+12x^{2}-24x-4.
\]
This is a nonzero polynomial with rational coefficients; hence, $z$ is algebraic.

We thus have verified that the sum of two algebraic numbers is algebraic in
two cases. What about more complicated cases, such as
\[
\sqrt{2}+\sqrt{3}+\sqrt[7]{11}\text{ ?}%
\]
This is a sum of two algebraic numbers (since we already know that $\sqrt
{2}+\sqrt{3}=w$ is algebraic). Is it algebraic? Neither of our above two
methods properly works here; do we have to come up with new ad-hoc tricks?
\end{proof}

\begin{center}
\textbf{2019-01-25 lecture}
\end{center}

\subsection{Motivation: Shamir's Secret Sharing Scheme}

\subsubsection{The problem}

Adi Shamir is one of the founders of modern mathematical cryptography (famous
in particular for \href{https://en.wikipedia.org/wiki/RSA_(cryptosystem)}{the
RSA cryptosystem}, see later).

Shamir's Secret Sharing Scheme is a way in which a secret $\mathbf{a}$ (a
piece of data -- e.g., nuclear launch codes) can be distributed among $n$
people in such a way that

\begin{itemize}
\item any $k$ of them can (if they come together) reconstruct it uniquely, but

\item any $k-1$ of them (if they come together) cannot gain \textbf{any}
insight about it (i.e., not only cannot they reconstruct it, but they cannot
even tell that some values are more likely than others to be $\mathbf{a}$).
\end{itemize}

Here $n$ and $k$ are fixed positive integers.

Understanding this scheme completely will require some abstract algebra, but
we can already start thinking about the problem and get reasonably far.

So we have $n$ people $1,2,\ldots,n$, a positive integer $k\in\left\{
1,2,\ldots,n\right\}  $ and a secret piece of data $\mathbf{a}$. We assume
that this data $\mathbf{a}$ is encoded as a \textit{bitstring} -- i.e., a
finite sequence of bits. A \textit{bit} is an element of the set $\left\{
0,1\right\}  $. Thus, examples of bitstrings are $\left(  0,1,1,0\right)  $
and $\left(  1,0\right)  $ and $\left(  1,1,0,1,0,0,0\right)  $ as well as the
empty sequence $\left(  {}\right)  $. When writing bitstring, we shall usually
omit both the commas and the parentheses; thus, e.g., the bitstring $\left(
1,1,0,1,0,0,0\right)  $ will become $1101000$. Make sure you don't mistake it
for a number. Our goal is to give each of the $n$ people $1,2,\ldots,n$ some
bitstring in such a way that:

\begin{itemize}
\item \textit{Requirement 1:} Any $k$ of the $n$ people can (if they come
together) reconstruct $\mathbf{a}$ uniquely.

\item \textit{Requirement 2:} Any $k-1$ of the $n$ people are unable to gain
any insight about $\mathbf{a}$ (even if they collaborate).
\end{itemize}

We denote the bitstrings given to the people $1,2,\ldots,n$ by $\mathbf{a}%
_{1},\mathbf{a}_{2},\ldots,\mathbf{a}_{n}$, respectively.

We assume that the length of our secret bitstring $\mathbf{a}$ is known in
advance to all parties; i.e., it is not a secret. Thus, when we say
\textquotedblleft$k-1$ persons cannot gain any insight about $\mathbf{a}%
$\textquotedblright, we do not mean that they don't know the length; and when
we say \textquotedblleft some values are more likely than others to be
$\mathbf{a}$\textquotedblright, we only mean values that fit this length.

\subsubsection{The $k=1$ case}

One simple special case of our problem is when $k=1$. In this case, it
suffices to give each of the $n$ people the full secret $\mathbf{a}$ (that is,
we set $\mathbf{a}_{i}=\mathbf{a}$ for all $i$). Then, Requirement 1 is
satisfied (since any $1$ of the $n$ people already knows $\mathbf{a}$), while
Requirement 2 is satisfied as well ($0$ people know nothing).

\subsubsection{The $k=n$ case: what doesn't work}

Let us now consider the case when $k=n$. This case will not help us solve the
general problem, but it will show some ideas that we will encounter again and
again in abstract algebra.

We want to ensure that all $n$ people needed to reconstruct the secret
$\mathbf{a}$, while any $n-1$ of them will be completely clueless.

It sounds reasonable to split $\mathbf{a}$ into $n$ parts, and give each
person one of these parts\footnote{assuming that $\mathbf{a}$ is long enough
for that} (i.e., we let $\mathbf{a}_{i}$ be the $i$-th part of $\mathbf{a}$
for each $i\in\left\{  1,2,\ldots,n\right\}  $). This method satisfies
Requirement 1 (indeed, all $n$ people together can reconstruct $\mathbf{a}$
simply by fusing the $n$ parts back together), but fails Requirement 2
(indeed, any $n-1$ people know $n-1$ parts of the secret $\mathbf{a}$, which
is a far from being clueless about $\mathbf{a}$). So this method doesn't work.
It is not that easy.

\subsubsection{The $\operatorname*{XOR}$ operations}

One way to solve the $k=n$ case is using the $\operatorname*{XOR}$ operation.

Let us first define some basic language. A \textit{binary operation} on a set
$S$ is (informally speaking) a function that takes two elements of $S$ and
assigns a new element of $S$ to them. More formally:

\begin{definition}
A \textit{binary operation} on a set $S$ is a map $f$ from $S\times S$ to $S$.
When $f$ is a binary operation on $S$ and $a$ and $b$ are two elements of $S$,
we shall write $afb$ for the value $f\left(  a,b\right)  $.
\end{definition}

\begin{example}
Addition, subtraction and multiplication of integers are three binary
operations on the set $\mathbb{Q}$ (the set of all rational numbers). For
example, addition is the map from $\mathbb{Q}\times\mathbb{Q}$ to $\mathbb{Q}$
that sends each pair $\left(  a,b\right)  \in\mathbb{Q}\times\mathbb{Q}$ to
$a+b$.

Division is not a binary operation on the set $\mathbb{Q}$. Indeed, if it was,
then it would send the pair $\left(  1,0\right)  $ to some integer called
$1/0$; but there is no such integer.

There are myriad more complicated binary operations around waiting for someone
to name them. For example, you could define a binary operation $\smiley{}$ on
the set $\mathbb{Q}$ by $a\smiley{}b=\dfrac{a-b}{1+a^{2}+b^{2}}$. Indeed, you
can do this because $1+a^{2}+b^{2}$ is always nonzero when $a,b\in\mathbb{Q}$
(after all, squares are nonnegative, so that $1+\underbrace{a^{2}}_{\geq
0}+\underbrace{b^{2}}_{\geq0}\geq1>0$). I am not saying that you should...
\end{example}

Now, we define some specific binary operations on the set $\left\{
0,1\right\}  $ of all bits, and on the set $\left\{  0,1\right\}  ^{n}$ of all
length-$n$ bitstrings (for a given $n$).

\begin{definition}
We define a binary operation $\operatorname*{XOR}$ on the set $\left\{
0,1\right\}  $ by setting%
\begin{align*}
0\operatorname*{XOR}0  &  =0,\\
0\operatorname*{XOR}1  &  =1,\\
1\operatorname*{XOR}0  &  =1,\\
1\operatorname*{XOR}1  &  =0.
\end{align*}
This is a valid definition, because there are only four pairs $\left(
a,b\right)  \in\left\{  0,1\right\}  \times\left\{  0,1\right\}  $, and we
have just defined $a\operatorname*{XOR}b$ for each of these four options. We
can also rewrite this definition as follows:%
\[
a\operatorname*{XOR}b=%
\begin{cases}
1, & \text{if }a\neq b;\\
0, & \text{if }a=b
\end{cases}
=%
\begin{cases}
1, & \text{if \textbf{exactly} one of }a\text{ and }b\text{ is }1;\\
0, & \text{otherwise.}%
\end{cases}
\]
For lack of a better name, we refer to $a\operatorname*{XOR}b$ as the
\textquotedblleft XOR of $a$ and $b$\textquotedblright.
\end{definition}

The name \textquotedblleft$\operatorname*{XOR}$\textquotedblright\ is short
for \textquotedblleft exclusive or\textquotedblright. In fact, if you identify
bits with boolean truth values (so the bit $0$ stands for \textquotedblleft
False\textquotedblright\ and the bit $1$ stands for \textquotedblleft
True\textquotedblright), then $a\operatorname*{XOR}b$ is precisely the truth
value for \textquotedblleft exactly one of $a$ and $b$ is
True\textquotedblright, which is also known as \textquotedblleft$a$
exclusive-or $b$\textquotedblright.

\begin{definition}
Let $m$ be a nonnegative integer. We define a binary operation
$\operatorname*{XOR}$ on the set $\left\{  0,1\right\}  ^{m}$ (this is the set
of all length-$m$ bitstrings) by%
\[
\left(  a_{1},a_{2},\ldots,a_{m}\right)  \operatorname*{XOR}\left(
b_{1},b_{2},\ldots,b_{m}\right)  =\left(  a_{1}\operatorname*{XOR}b_{1}%
,a_{2}\operatorname*{XOR}b_{2},\ldots,a_{m}\operatorname*{XOR}b_{m}\right)  .
\]
In other words, if $\mathbf{a}$ and $\mathbf{b}$ are two length-$m$
bitstrings, then $\mathbf{a}\operatorname*{XOR}\mathbf{b}$ is obtained by
taking the XOR of each entry of $\mathbf{a}$ with the corresponding entry of
$\mathbf{b}$, and packing these $m$ XORs into a new length-$m$ bitstring.
\end{definition}

For example,%
\begin{align*}
\left(  1001\right)  \operatorname*{XOR}\left(  1100\right)   &  =0101;\\
\left(  11011\right)  \operatorname*{XOR}\left(  10101\right)   &  =01110;\\
\left(  11010\right)  \operatorname*{XOR}\left(  01011\right)   &  =10001;\\
\left(  1\right)  \operatorname*{XOR}\left(  0\right)   &  =1;\\
\left(  {}\right)  \operatorname*{XOR}\left(  {}\right)   &  =\left(
{}\right)  .
\end{align*}


Note that if $\mathbf{a}$ and $\mathbf{b}$ are two length-$m$ bitstrings, then
the $0$'s in the bitstring $\mathbf{a}\operatorname*{XOR}\mathbf{b}$ are at
the positions where $\mathbf{a}$ and $\mathbf{b}$ have equal entries, and the
$1$'s in $\mathbf{a}\operatorname*{XOR}\mathbf{b}$ are at the positions where
$\mathbf{a}$ and $\mathbf{b}$ have different entries. Thus, the operation
$\operatorname*{XOR}$ on bitstring essentially pinpoints the differences
between $\mathbf{a}$ and $\mathbf{b}$.

We observe the following simple properties of these operations
$\operatorname*{XOR}$ on bits and on bitstrings\footnote{As a mnemonic, we
shall try to use boldfaced letters like $\mathbf{a}$ and $\mathbf{b}$ for
bitstrings and regular italic letters like $a$ and $b$ for single bits.}:

\begin{itemize}
\item We have $a\operatorname*{XOR}0=a$ for any bit $a$. (This can be
trivially checked by considering both possibilities for $a$.)

\item Thus, $\mathbf{a}\operatorname*{XOR}\mathbf{0}=\mathbf{a}$ for any
bitstring $\mathbf{a}$, where $\mathbf{0}$ denotes the bitstring
$00\cdots0=\left(  0,0,\ldots,0\right)  $ (of appropriate length -- i.e., of
the same length as $\mathbf{a}$).

\item We have $a\operatorname*{XOR}a=0$ for any bit $a$. (This can be
trivially checked by considering both possibilities for $a$.)

\item Thus, $\mathbf{a}\operatorname*{XOR}\mathbf{a}=\mathbf{0}$ for any
bitstring $\mathbf{a}$. We shall refer to this as the
\textit{self-cancellation law}.

\item We have $a\operatorname*{XOR}b=b\operatorname*{XOR}a$ for any bits
$a,b$. (Again, this is easy to check by going through all four options for $a$
and $b$.)

\item Thus, $\mathbf{a}\operatorname*{XOR}\mathbf{b}=\mathbf{b}%
\operatorname*{XOR}\mathbf{a}$ for any bitstrings $\mathbf{a},\mathbf{b}$.

\item We have $a\operatorname*{XOR}\left(  b\operatorname*{XOR}c\right)
=\left(  a\operatorname*{XOR}b\right)  \operatorname*{XOR}c$ for any bits
$a,b,c$. (Again, this is easy to check by going through all eight options for
$a,b,c$.)

\item Thus, $\mathbf{a}\operatorname*{XOR}\left(  \mathbf{b}%
\operatorname*{XOR}\mathbf{c}\right)  =\left(  \mathbf{a}\operatorname*{XOR}%
\mathbf{b}\right)  \operatorname*{XOR}\mathbf{c}$ for any bitstrings
$\mathbf{a},\mathbf{b},\mathbf{c}$.

\item Thus, for any bitstrings $\mathbf{a}$ and $\mathbf{b}$, we have%
\[
\left(  \mathbf{a}\operatorname*{XOR}\mathbf{b}\right)  \operatorname*{XOR}%
\mathbf{b}=\mathbf{a}\operatorname*{XOR}\underbrace{\left(  \mathbf{b}%
\operatorname*{XOR}\mathbf{b}\right)  }_{\substack{=\mathbf{0}\\\text{(by the
self-cancellation law)}}}=\mathbf{a}\operatorname*{XOR}\mathbf{0}=\mathbf{a}.
\]


This observation gives rise to a primitive cryptosystem (known as a
\textit{\href{https://en.wikipedia.org/wiki/One-time_pad}{\textit{one-time
pad}}}): If you have a secret bitstring $\mathbf{a}$ that you want to encrypt,
and another secret bitstring $\mathbf{b}$ that can be used as a key, then you
can encrypt\ $\mathbf{a}$ by XORing it with $\mathbf{b}$ (that is, you
transform it into $\mathbf{a}\operatorname*{XOR}\mathbf{b}$). Then, you can
decrypt it again by XORing it with $\mathbf{b}$ again; indeed, if you do this,
you will obtain $\left(  \mathbf{a}\operatorname*{XOR}\mathbf{b}\right)
\operatorname*{XOR}\mathbf{b}=\mathbf{a}$. This is a highly safe cryptosystem
as long as you can safely communicate the key $\mathbf{b}$ to whomever needs
to be able to decrypt (or encrypt) your secrets, and as long as you are able
to generate uniformly random keys $\mathbf{b}$ of sufficient length. Its only
weakness is its impracticality (in many situations): If the secret you want to
encrypt is long (say, a whole book), your key will need to be equally long.
Even storing such keys can become difficult.
\end{itemize}

We shall refer to the properties $a\operatorname*{XOR}b=b\operatorname*{XOR}a$
and $\mathbf{a}\operatorname*{XOR}\mathbf{b}=\mathbf{b}\operatorname*{XOR}%
\mathbf{a}$ as \textit{laws of commutativity}, and we shall refer to the
properties $a\operatorname*{XOR}\left(  b\operatorname*{XOR}c\right)  =\left(
a\operatorname*{XOR}b\right)  \operatorname*{XOR}c$ and $\mathbf{a}%
\operatorname*{XOR}\left(  \mathbf{b}\operatorname*{XOR}\mathbf{c}\right)
=\left(  \mathbf{a}\operatorname*{XOR}\mathbf{b}\right)  \operatorname*{XOR}%
\mathbf{c}$ as \textit{laws of associativity}. These are, of course, similar
to well-known facts like $\alpha+\beta=\beta+\alpha$ and $\alpha+\left(
\beta+\gamma\right)  =\left(  \alpha+\beta\right)  +\gamma$ for numbers
$\alpha,\beta,\gamma$ (which is why we are giving them the same name). This
similarity is not coincidental. Just as for addition or multiplication of
numbers, these laws lead to a notion of \textquotedblleft
XOR-products\textquotedblright:

\begin{proposition}
\label{prop.intro.xor.prodm}Let $m$ be a positive integer. Let $\mathbf{a}%
_{1},\mathbf{a}_{2},\ldots,\mathbf{a}_{m}$ be $m$ bitstrings. Then, the
\textquotedblleft$\operatorname*{XOR}$-product\textquotedblright\ expression%
\[
\mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\operatorname*{XOR}%
\mathbf{a}_{3}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}_{m}%
\]
is well-defined, in the sense that it does not depend on the parenthesization.
\end{proposition}

What do we mean by \textquotedblleft parenthesization\textquotedblright? To
clarify things, let us set $m=4$. In this case, we want to make sense of the
expression $\mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\operatorname*{XOR}%
\mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}_{4}$. This expression does not
make sense a priori, since it is a $\operatorname*{XOR}$ of \textbf{four}
bitstrings, whereas we have defined only the $\operatorname*{XOR}$ of
\textbf{two} bitstrings. But there are five ways to put parentheses around
some of its sub-expressions such that the expression becomes meaningful:
\begin{align*}
&  \left(  \mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\right)
\operatorname*{XOR}\left(  \mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}%
_{4}\right)  ,\\
&  \left(  \left(  \mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\right)
\operatorname*{XOR}\mathbf{a}_{3}\right)  \operatorname*{XOR}\mathbf{a}_{4},\\
&  \mathbf{a}_{1}\operatorname*{XOR}\left(  \left(  \mathbf{a}_{2}%
\operatorname*{XOR}\mathbf{a}_{3}\right)  \operatorname*{XOR}\mathbf{a}%
_{4}\right)  ,\\
&  \mathbf{a}_{1}\operatorname*{XOR}\left(  \mathbf{a}_{2}\operatorname*{XOR}%
\left(  \mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}_{4}\right)  \right)  ,\\
&  \left(  \mathbf{a}_{1}\operatorname*{XOR}\left(  \mathbf{a}_{2}%
\operatorname*{XOR}\mathbf{a}_{3}\right)  \right)  \operatorname*{XOR}%
\mathbf{a}_{4}.
\end{align*}
Each of these five parenthesizations (= placements of parentheses) turns our
expression $\mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\operatorname*{XOR}%
\mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}_{4}$ into a combination of
$\operatorname*{XOR}$'s of \textbf{two} bitstrings each, and thus gives it
meaning. The question is: Do these five parenthesizations give it the
\textbf{same} meaning?

Well, let us calculate:%
\begin{align*}
&  \left(  \mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\right)
\operatorname*{XOR}\left(  \mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}%
_{4}\right) \\
&  =\mathbf{a}_{1}\operatorname*{XOR}\underbrace{\left(  \mathbf{a}%
_{2}\operatorname*{XOR}\left(  \mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}%
_{4}\right)  \right)  }_{=\left(  \mathbf{a}_{2}\operatorname*{XOR}%
\mathbf{a}_{3}\right)  \operatorname*{XOR}\mathbf{a}_{4}}\\
&  =\mathbf{a}_{1}\operatorname*{XOR}\left(  \left(  \mathbf{a}_{2}%
\operatorname*{XOR}\mathbf{a}_{3}\right)  \operatorname*{XOR}\mathbf{a}%
_{4}\right) \\
&  =\underbrace{\left(  \mathbf{a}_{1}\operatorname*{XOR}\left(
\mathbf{a}_{2}\operatorname*{XOR}\mathbf{a}_{3}\right)  \right)  }_{=\left(
\mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\right)  \operatorname*{XOR}%
\mathbf{a}_{3}}\operatorname*{XOR}\mathbf{a}_{4}\\
&  =\left(  \left(  \mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\right)
\operatorname*{XOR}\mathbf{a}_{3}\right)  \operatorname*{XOR}\mathbf{a}_{4},
\end{align*}
where we used the law of associativity in each step. This shows that our five
parenthesizations yield the same result. Thus, they all give our
\textquotedblleft$\operatorname*{XOR}$-product\textquotedblright\ expression
$\mathbf{a}_{1}\operatorname*{XOR}\mathbf{a}_{2}\operatorname*{XOR}%
\mathbf{a}_{3}\operatorname*{XOR}\mathbf{a}_{4}$ the same meaning; so we can
say that this expression is well-defined. This confirms Proposition
\ref{prop.intro.xor.prodm} for $m=4$.

Of course, proving Proposition \ref{prop.intro.xor.prodm} is less simple. Such
a proof will appear in Exercise 4 on homework set \#0.

\subsubsection{The $k=n$ case: an answer}

Let us now return to our problem. We have $n$ persons $1,2,\ldots,n$ and a
secret $\mathbf{a}$ (encoded as a bitstring). We want to give each person $i$
some bitstring $\mathbf{a}_{i}$ such that only all $n$ of them can recover
$\mathbf{a}$ but any $n-1$ of them cannot gain any insight about $\mathbf{a}$.

We let $\mathbf{a}_{1},\mathbf{a}_{2},\ldots,\mathbf{a}_{n-1}$ be $n-1$
\textbf{uniformly} random bitstrings of the same length as $\mathbf{a}$.
(Think of them as random gibberish.) Set%
\[
\mathbf{a}_{n}=\mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}\operatorname*{XOR}%
\mathbf{a}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}_{n-1}.
\]
(This expression makes sense because of Proposition \ref{prop.intro.xor.prodm}.)

Then,%
\begin{align*}
&  \mathbf{a}_{n}\operatorname*{XOR}\mathbf{a}_{n-1}\operatorname*{XOR}%
\mathbf{a}_{n-2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}_{1}\\
&  =\left(  \mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}\operatorname*{XOR}%
\mathbf{a}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}%
_{n-1}\right)  \operatorname*{XOR}\mathbf{a}_{n-1}\operatorname*{XOR}%
\mathbf{a}_{n-2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}_{1}\\
&  =\mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}\operatorname*{XOR}%
\mathbf{a}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}%
\underbrace{\mathbf{a}_{n-1}\operatorname*{XOR}\mathbf{a}_{n-1}}_{=\mathbf{0}%
}\operatorname*{XOR}\mathbf{a}_{n-2}\operatorname*{XOR}\cdots
\operatorname*{XOR}\mathbf{a}_{1}\\
&  =\mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}\operatorname*{XOR}%
\mathbf{a}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}%
\underbrace{\mathbf{a}_{n-2}\operatorname*{XOR}\mathbf{0}}_{=\mathbf{a}_{n-2}%
}\operatorname*{XOR}\mathbf{a}_{n-2}\operatorname*{XOR}\cdots
\operatorname*{XOR}\mathbf{a}_{1}\\
&  =\mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}\operatorname*{XOR}%
\mathbf{a}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}%
\underbrace{\mathbf{a}_{n-2}\operatorname*{XOR}\mathbf{a}_{n-2}}_{=\mathbf{0}%
}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}_{1}\\
&  =\cdots\\
&  =\mathbf{a}%
\end{align*}
(here, we have been unravelling the big $\operatorname*{XOR}$-product from the
middle on, by cancelling equal bitstrings using the self-cancellation law and
then removing the resulting $\mathbf{0}$ using the $\mathbf{a}%
\operatorname*{XOR}\mathbf{0}=\mathbf{a}$ law). Hence, the $n$ people together
can decrypt the secret $\mathbf{a}$.

Can $n-1$ people gain any insight about it? The $n-1$ people $1,2,\ldots,n-1$
certainly cannot, since all they know are the random bitstrings $\mathbf{a}%
_{1},\mathbf{a}_{2},\ldots,\mathbf{a}_{n-1}$. But the $n-1$ people
$2,3,\ldots,n$ cannot gain any insight about $\mathbf{a}$ either: In fact, all
they know are the random bitstrings $\mathbf{a}_{2},\mathbf{a}_{3}%
,\ldots,\mathbf{a}_{n-1}$ and the bitstring%
\[
\mathbf{a}_{n}=\mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}\operatorname*{XOR}%
\mathbf{a}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{a}_{n-1};
\]
therefore, all the information they have about $\mathbf{a}$ and $\mathbf{a}%
_{1}$ comes to them through $\mathbf{a}\operatorname*{XOR}\mathbf{a}_{1}$,
which says nothing about $\mathbf{a}$ as long as they know nothing about
$\mathbf{a}_{1}$. (We used a bit of handwaving in this argument, but then
again we never formally defined what it means to \textquotedblleft gain no
insight\textquotedblright; this is done in courses on cryptography and
information theory.) Similar arguments show that any other choice of $n-1$
persons remains equally clueless about $\mathbf{a}$. So we have solved the
problem in the case $k=n$.

\subsubsection{The $k=2$ case}

The next simple case is when $k=2$. So we want to ensure that any $2$ of our
$n$ people can together recover the secret, but no $1$ person can learn
anything about it alone.

A really nice approach was suggested by Nathan in class: We pick $n$ random
bitstrings $\mathbf{x}_{1},\mathbf{x}_{2},\ldots,\mathbf{x}_{n-1}$ of the same
length as $\mathbf{a}$. Set
\[
\mathbf{x}_{n}=\mathbf{a}\operatorname*{XOR}\mathbf{x}_{1}\operatorname*{XOR}%
\mathbf{x}_{2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{x}_{n-1};
\]
thus, as in the $k=n$ case, we have%
\begin{equation}
\mathbf{x}_{n}\operatorname*{XOR}\mathbf{x}_{n-1}\operatorname*{XOR}%
\mathbf{x}_{n-2}\operatorname*{XOR}\cdots\operatorname*{XOR}\mathbf{x}%
_{1}=\mathbf{a}. \label{eq.intro.shamir.k=2.2}%
\end{equation}


Each person $i$ now receives the bitstring%
\[
\mathbf{a}_{i}=\mathbf{x}_{1}\mathbf{x}_{2}\cdots\mathbf{x}_{i-1}%
\mathbf{x}_{i+1}\mathbf{x}_{i+2}\cdots\mathbf{x}_{n},
\]
where the product stands for \textit{concatenation} (i.e., the bitstring
$\mathbf{a}_{i}$ is formed by writing down all of the bitstring $\mathbf{x}%
_{1},\mathbf{x}_{2},\ldots,\mathbf{x}_{n}$ one after the other but skipping
$\mathbf{x}_{i}$). Thus, each person $i$ can recover all the $n-1$ bitstrings
$\mathbf{x}_{1},\mathbf{x}_{2},\ldots,\mathbf{x}_{i-1},\mathbf{x}%
_{i+1},\mathbf{x}_{i+2},\ldots,\mathbf{x}_{n}$ (because their lengths are the
length of $\mathbf{a}$, which is known), but knows nothing about
$\mathbf{x}_{i}$ (his \textquotedblleft blind spot\textquotedblright). Hence,
$2$ people together can recover all the $n$ bitstrings $\mathbf{x}%
_{1},\mathbf{x}_{2},\ldots,\mathbf{x}_{n}$ and therefore recover the secret
$\mathbf{a}$ (by (\ref{eq.intro.shamir.k=2.2})). On the other hand, each
single person has no insight about $\mathbf{a}$ (this is proven similarly to
the $k=n$ case). So again, the problem is solved in this case.

\subsubsection{The $k=3$ case}

Now, let us come to the case when $k=3$. Now I think the usefulness of the
$\operatorname*{XOR}$ approach has come to its end: at least I don't know how
to make it work here. Instead, out of the blue, I will invoke something
completely different: polynomials (let's say with rational coefficients).

Recall a fact you might have heard in high school: A polynomial $p\left(
x\right)  =cx^{2}+bx+a$ of degree $\leq2$ is uniquely determined by any three
of its values. More precisely: If $u,v,w$ are three fixed distinct numbers,
then a polynomial $p\left(  x\right)  =cx^{2}+bx+a$ of degree $\leq2$ is
uniquely determined by the values $p\left(  u\right)  ,p\left(  v\right)
,p\left(  w\right)  $. We will put this to use now, and sort-of solve the problem.

Also recall that any bitstring of given length $N$ can be encoded as an
integer in $\left\{  0,1,\ldots,2^{N}-1\right\}  $; just read it as a number
in binary. More precisely, any bitstring $a_{N-1}a_{N-2}\cdots a_{0}$ of
length $N$ becomes the integer $a_{N-1}\cdot2^{N-1}+a_{N-2}\cdot2^{N-2}%
+\cdots+a_{0}\cdot2^{0}\in\left\{  0,1,\ldots,2^{N}-1\right\}  $. For example,
the bitstring $010110$ of length $6$ becomes the integer%
\[
0\cdot2^{5}+1\cdot2^{4}+0\cdot2^{3}+1\cdot2^{2}+1\cdot2^{1}+0\cdot2^{0}%
=22\in\left\{  0,1,\ldots,2^{6}-1\right\}  .
\]


Choose two \textbf{uniformly random} bitstrings $\mathbf{c}$ and $\mathbf{b}$
(of the same length as $\mathbf{a}$) and encode them as numbers $c$ and $b$
(as just explained). Encode the secret $\mathbf{a}$ as a number $a$ as well
(in the same way). Define the polynomial $p\left(  x\right)  =cx^{2}+bx+a$.
Reveal to each person $i\in\left\{  1,2,\ldots,n\right\}  $ the value
$p\left(  i\right)  $ -- or, rather, a bitstring that encodes it in binary --
as $\mathbf{a}_{i}$.

As we know, any three of the values $p\left(  i\right)  $ uniquely determine
the polynomial $p$. Thus, any three people can use their bitstrings
$\mathbf{a}_{i}$ to recover three values $p\left(  i\right)  $ and therefore
$p$ and therefore $a$ (as the constant term of $p$) and therefore $\mathbf{a}$
(by decoding $a$). So our method satisfies Requirement 1.

Now, let us see whether it satisfies Requirement 2. Any $2$ people can recover
two values $p\left(  i\right)  $, which generally do not determine $p$
uniquely. It is not hard to show that they do not even determine $a$ uniquely;
thus, they do not determine $\mathbf{a}$ uniquely. What's better: If you know
just two values of $p$, there are infinitely many possible choices for $p$,
and all of them have distinct constant terms (unless one of the two values you
know is $p\left(  0\right)  $, which of course pins down the constant term).
So we get infinitely many possible values for $a$, and thus infinitely many
possible values for $\mathbf{a}$. This means that our $2$ people don't gain
any insight about $\mathbf{a}$, right?

Not so fast! We cannot really have \textquotedblleft infinitely many possible
values for $\mathbf{a}$\textquotedblright, since $\mathbf{a}$ is bound to be a
bitstring of a given length -- there are only finitely many of those! You can
only get infinitely many possible values for $p$ if you forget how $p$ was
constructed (from $c$, $b$ and $a$) and pretend that $p$ is just a
\textquotedblleft uniformly random\textquotedblright\ polynomial (whatever
this means). But no one can force the $2$ people to do this; it is certainly
not in their interest! Here are some things they might do with this knowledge:

\begin{itemize}
\item Let $N$ be the length of $\mathbf{a}$ (which, as we said, is known).
Thus, $\mathbf{c}$ and $\mathbf{b}$ are bitstrings of length $N$, so that $c$
and $b$ are integers in $\left\{  0,1,\ldots,2^{N}-1\right\}  $. Assume that
one of the $2$ people is person $2$. Now, person $2$ knows $p\left(  2\right)
=c2^{2}+b2+a=4c+2b+a$, and thus knows whether $a$ is even or odd (because $a$
is even resp. odd if and only if $4c+2b+a$ is even resp. odd). This means she
knows the last bit of the secret $\mathbf{a}$. This is not \textquotedblleft
clueless\textquotedblright.

\item You might try to fix this by picking $c$ and $b$ to be uniformly random
rational numbers instead (rather than using uniformly random bitstrings
$\mathbf{c}$ and $\mathbf{b}$).

Unfortunately, there is no such thing as a \textquotedblleft uniformly random
rational number\textquotedblright\ (in the sense that, e.g., larger numbers
aren't less likely to be picked than smaller numbers). Any probability
distribution will make some numbers more likely than others, and this will
usually cause information about $\mathbf{a}$ to \textquotedblleft
leak\textquotedblright. For example, if $c$ and $b$ are chosen from the
interval $\left[  0,2^{N}-1\right]  $, then person $1$'s knowledge of
$p\left(  1\right)  =c1^{2}+b1+a=c+b+a$ will sometimes reveal to person $1$
that $a\geq0.5\cdot\left(  2^{N}-1\right)  $ (namely, this will happen when
$p\left(  1\right)  \geq2.5\cdot\left(  2^{N}-1\right)  $, which occasionally
happens). This, again, is nontrivial information about the secret $\mathbf{a}%
$, which a single person (or even two people) should not be having.
\end{itemize}

So we cannot make Requirement 2 hold, and the culprit is that there are too
many numbers (namely, infinitely many). What would help is a finite
\textquotedblleft number system\textquotedblright\ in which we can add,
subtract, multiply and divide (so that we can define polynomials over it, and
a polynomial of degree $\leq2$ is still uniquely determined by any $3$
values). Assuming that this \textquotedblleft number system\textquotedblright%
\ is large enough that we can encode bitstrings using \textquotedblleft
numbers\textquotedblright\ of this system (instead of integers), we can then
play the above game using this \textquotedblleft number
system\textquotedblright\ and obtain actually uniformly random numbers.

It turns out that such \textquotedblleft number systems\textquotedblright%
\ exist. They are called \textit{finite fields}, and we will construct them
later in this course.

Assuming that they can be constructed, we thus obtain a method of solving the
problem for $k=3$. A similar method works for arbitrary $k$, using polynomials
of degree $\leq k-1$. This is called \textit{Shamir's secret sharing scheme}.

\begin{center}
\textbf{2019-01-30 lecture (virtual)}
\end{center}

\section{Elementary number theory}

Let us now begin a systematic introduction to algebra. We start with studying
integers and their divisibility properties -- the beginnings of number theory.
Part of these will be used directly in what will follow; part of these will
inspire more general results and proofs.

\subsection{Notations}

\begin{definition}
Let $\mathbb{N}=\left\{  0,1,2,\ldots\right\}  $ be the set of
\textbf{nonnegative} integers.

Let $\mathbb{P}=\left\{  1,2,3,\ldots\right\}  $ be the set of
\textbf{positive} integers.

Let $\mathbb{Z}=\left\{  \ldots,-1,0,1,\ldots\right\}  $ be the set of integers.

Let $\mathbb{Q}$ be the set of rational numbers.

Let $\mathbb{R}$ be the set of real numbers.
\end{definition}

Be careful with the notation $\mathbb{N}$: While I use it for $\left\{
0,1,2,\ldots\right\}  $, various other authors use it for $\left\{
1,2,3,\ldots\right\}  $ instead. There is no consensus in sight on what
$\mathbb{N}$ should mean.

Same holds for the word \textquotedblleft natural number\textquotedblright%
\ (which I will avoid): It means \textquotedblleft element of $\mathbb{N}%
$\textquotedblright, so again its meaning depends on the author.

\subsection{Divisibility}

We now go through the basics of divisibility of integers.

\begin{definition}
\label{def.ent.div.div}Let $a$ and $b$ be two integers. We say that $a\mid b$
(or \textquotedblleft$a$ \textit{divides} $b$\textquotedblright\ or
\textquotedblleft$b$ is \textit{divisible by }$a$\textquotedblright\ or
\textquotedblleft$b$ is a \textit{multiple} of $a$\textquotedblright) if there
exists an integer $c$ such that $b=ac$.
\end{definition}

Some authors define the \textquotedblleft divisibility\textquotedblright%
\ relation a bit differently, in that they forbid $a=0$. From the viewpoint of
abstract algebra, this feels like an unnecessary exception, so we don't follow them.

\begin{example}
\label{exa.ent.div.triv}\textbf{(a)} We have $4\mid12$, since $12=4\cdot3$.

\textbf{(b)} We have $a\mid0$ for any $a\in\mathbb{Z}$, since $0=a\cdot0$.

\textbf{(c)} An integer $b$ satisfies $0\mid b$ only when $b=0$, since $0\mid
b$ implies $b=0c=0$ (for some $c\in\mathbb{Z}$).

\textbf{(d)} We have $a\mid a$ for any $a\in\mathbb{Z}$, since $a=a\cdot1$.

\textbf{(e)} We have $1\mid b$ for each $b\in\mathbb{Z}$, since $b=1\cdot b$.
\end{example}

\begin{proposition}
\label{prop.ent.div.1}Let $a$ and $b$ be two integers.

\textbf{(a)} We have $a\mid b$ if and only $\left\vert a\right\vert
\mid\left\vert b\right\vert $.

\textbf{(b)} If $a\mid b$ and $b\neq0$, then $\left\vert a\right\vert
\leq\left\vert b\right\vert $.

\textbf{(c)} Assume that $a\neq0$. Then, $a\mid b$ if and only if $\dfrac
{b}{a}\in\mathbb{Z}$.
\end{proposition}

Before we prove this proposition, let us recall a well-known fact: We have
\begin{equation}
\left\vert xy\right\vert =\left\vert x\right\vert \cdot\left\vert y\right\vert
\label{eq.ent.div.abs(xy)}%
\end{equation}
for any two integers\footnote{or real numbers} $x$ and $y$. (This can be
easily proven by case distinction: $x$ is either nonnegative or negative, and
so is $y$.)

\begin{proof}
[Proof of Proposition \ref{prop.ent.div.1}.]\textbf{(a)} $\Longrightarrow:$
Assume that $a\mid b$. Thus, there exists an integer $d$ such that $b=ad$ (by
Definition \ref{def.ent.div.div}). Consider this $d$. We have $b=ad$ and thus
$\left\vert b\right\vert =\left\vert ad\right\vert =\left\vert a\right\vert
\cdot\left\vert d\right\vert $ (by (\ref{eq.ent.div.abs(xy)})). Thus, there
exists an integer $c$ such that $\left\vert b\right\vert =\left\vert
a\right\vert \cdot c$ (namely, $c=\left\vert d\right\vert $). In other words,
$\left\vert a\right\vert \mid\left\vert b\right\vert $. This proves the
$\Longrightarrow$ direction of Proposition \ref{prop.ent.div.1} \textbf{(a)}.

$\Longleftarrow:$ Assume that $\left\vert a\right\vert \mid\left\vert
b\right\vert $. Thus, there exists an integer $f$ such that $\left\vert
b\right\vert =\left\vert a\right\vert \cdot f$ (by Definition
\ref{def.ent.div.div}). Consider this $f$.

The definition of $\left\vert b\right\vert $ shows that $\left\vert
b\right\vert $ equals either $b$ or $-b$. Hence, $b$ equals either $\left\vert
b\right\vert $ or $-\left\vert b\right\vert $. In other words, $b$ equals
either $1\left\vert b\right\vert $ or $\left(  -1\right)  \left\vert
b\right\vert $. In other words, $b=q\left\vert b\right\vert $ for some
$q\in\left\{  1,-1\right\}  $. Similarly, $a=r\left\vert a\right\vert $ for
some $r\in\left\{  1,-1\right\}  $. Consider these $q$ and $r$.

From $r\in\left\{  1,-1\right\}  $, we obtain $r^{2}=1$, thus $\dfrac{1}{r}%
=r$. Now, solving the equation $a=r\left\vert a\right\vert $ for $r$, we
obtain $\left\vert a\right\vert =\underbrace{\dfrac{1}{r}}_{=r}a=ra$.

Now, $b=a\cdot qfr$ (since $a\cdot qfr=qf\underbrace{ra}_{=\left\vert
a\right\vert }=q\underbrace{f\left\vert a\right\vert }_{=\left\vert
a\right\vert \cdot f=\left\vert b\right\vert }=q\left\vert b\right\vert =b$).
Hence, there exists an integer $c$ such that $b=ac$ (namely, $c=qfr$). In
other words, $a\mid b$. This proves the $\Longleftarrow$ direction of
Proposition \ref{prop.ent.div.1} \textbf{(a)}.

Thus, the proof of Proposition \ref{prop.ent.div.1} \textbf{(a)} is complete.

\textbf{(b)} Assume that $a\mid b$ and $b\neq0$.

From $a\mid b$, we conclude that there exists an integer $c$ such that $b=ac$.
Consider this $c$. We have $ac=b\neq0$, thus $c\neq0$. Hence, $\left\vert
c\right\vert >0$, and thus $\left\vert c\right\vert \geq1$ (since $\left\vert
c\right\vert $ is an integer). We can multiply this inequality by $\left\vert
a\right\vert $ (since $\left\vert a\right\vert \geq0$), and obtain $\left\vert
a\right\vert \cdot\left\vert c\right\vert \geq\left\vert a\right\vert
\cdot1=\left\vert a\right\vert $.

From $b=ac$, we obtain $\left\vert b\right\vert =\left\vert ac\right\vert
=\left\vert a\right\vert \cdot\left\vert c\right\vert $ (by
(\ref{eq.ent.div.abs(xy)})). Hence, $\left\vert b\right\vert =\left\vert
a\right\vert \cdot\left\vert c\right\vert \geq\left\vert a\right\vert $. This
proves Proposition \ref{prop.ent.div.1} \textbf{(b)}.

\textbf{(c)} $\Longrightarrow:$ Assume that $a\mid b$. Thus, there exists an
integer $d$ such that $b=ad$. Consider this $d$. We can divide the equality
$b=ad$ by $a$ (since $a\neq0$), and thus obtain $\dfrac{b}{a}=d\in\mathbb{Z}$.
This proves the $\Longrightarrow$ direction of Proposition
\ref{prop.ent.div.1} \textbf{(c)}.

$\Longleftarrow:$ Assume that $\dfrac{b}{a}\in\mathbb{Z}$. Thus, there exists
an integer $c$ such that $b=ac$ (namely, $c=\dfrac{b}{a}$). In other words,
$a\mid b$. This proves the $\Longleftarrow$ direction of Proposition
\ref{prop.ent.div.1} \textbf{(c)}. Hence, the proof of Proposition
\ref{prop.ent.div.1} \textbf{(c)} is complete.
\end{proof}

Proposition \ref{prop.ent.div.1} \textbf{(a)} shows that both $a$ and $b$ in
\textquotedblleft the statement $a\mid b$\textquotedblright\ can be replaced
by their absolute values. Thus, when we talk about divisibility of integers,
the sign of the integers does not really matter -- it usually suffices to work
with nonnegative integers. We will often use this (tacitly, after a couple
times) in proofs.

The next proposition shows some basic properties of the divisibility relation:

\begin{proposition}
\label{prop.ent.div.2}\textbf{(a)} We have $a\mid a$ for every $a\in
\mathbb{Z}$. (This is called the \textit{reflexivity of divisibility}.)

\textbf{(b)} If $a,b,c\in\mathbb{Z}$ satisfy $a\mid b$ and $b\mid c$, then
$a\mid c$. (This is called the \textit{transitivity of divisibility}.)

\textbf{(c)} If $a_{1},a_{2},b_{1},b_{2}\in\mathbb{Z}$ satisfy $a_{1}\mid
b_{1}$ and $a_{2}\mid b_{2}$, then $a_{1}a_{2}\mid b_{1}b_{2}$.
\end{proposition}

\begin{proof}
\textbf{(a)} Let $a\in\mathbb{Z}$. Then, there exists an integer $c$ such that
$a=ac$ (namely, $c=1$). In other words, $a\mid a$. This proves Proposition
\ref{prop.ent.div.2} \textbf{(a)}.

\textbf{(b)} Let $a,b,c\in\mathbb{Z}$ satisfy $a\mid b$ and $b\mid c$.

From $a\mid b$, we conclude that there exists an integer $d$ such that $b=ad$.
Consider this $d$.

From $b\mid c$, we conclude that there exists an integer $e$ such that $c=be$.
Consider this $e$.

We have $c=\underbrace{b}_{=ad}e=ade$. Hence, there exists an integer $f$ such
that $c=af$ (namely, $f=de$). In other words, $a\mid c$ (by Definition
\ref{def.ent.div.div}). This proves Proposition \ref{prop.ent.div.2}
\textbf{(b)}.

\textbf{(c)} Let $a_{1},a_{2},b_{1},b_{2}$ satisfy $a_{1}\mid b_{1}$ and
$a_{2}\mid b_{2}$.

From $a_{1}\mid b_{1}$, we conclude that there exists an integer $d$ such that
$b_{1}=a_{1}d$. Consider this $d$.

From $a_{2}\mid b_{2}$, we conclude that there exists an integer $e$ such that
$b_{2}=a_{2}e$. Consider this $e$.

We have $\underbrace{b_{1}}_{=a_{1}d}\underbrace{b_{2}}_{=a_{2}e}=a_{1}%
da_{2}e=a_{1}a_{2}de$. Hence, there exists an integer $f$ such that
$b_{1}b_{2}=a_{1}a_{2}f$ (namely, $f=de$). In other words, $a_{1}a_{2}\mid
b_{1}b_{2}$ (by Definition \ref{def.ent.div.div}). This proves Proposition
\ref{prop.ent.div.2} \textbf{(c)}.
\end{proof}

\begin{exercise}
\label{exe.ent.div.acbc}Let $a,b,c$ be three integers such that $c\neq0$.
Prove that $a\mid b$ holds if and only if $ac\mid bc$.
\end{exercise}

\begin{proof}
[Solution sketch.] We have%
\begin{align*}
& \ \left(  a\mid b\right)  \\
& \Longleftrightarrow\ \left(  \text{there exists }d\in\mathbb{Z}\text{ such
that }b=ad\right)  \\
& \Longleftrightarrow\ \left(  \text{there exists }d\in\mathbb{Z}\text{ such
that }bc=acd\right)  \\
& \ \ \ \ \ \ \ \ \ \ \left(
\begin{array}
[c]{c}%
\text{indeed, }b=ad\text{ is equivalent to }bc=acd\\
\text{since }c\neq0
\end{array}
\right)  \\
& \Longleftrightarrow\ \left(  ac\mid bc\right)  .
\end{align*}

\end{proof}

\subsection{Congruence modulo $n$}

The next definition is simple but crucial:

\begin{definition}
\label{def.ent.cong}Let $n,a,b\in\mathbb{Z}$. We say that $a$ \textit{is
congruent to }$b$ \textit{modulo }$n$ (or, short, \textquotedblleft$a\equiv
b\operatorname{mod}n$\textquotedblright) if and only if $n\mid a-b$.
\end{definition}

\begin{example}
\label{exa.ent.cong.triv}\textbf{(a)} Is $3\equiv7\operatorname{mod}2$ ? Yes,
since $2\mid3-7=-4$.

\textbf{(b)} Is $3\equiv6\operatorname{mod}2$ ? No, since $2\nmid3-6=-3$.

Now, let $a$ and $b$ be two integers.

\textbf{(c)} We have $a\equiv b\operatorname{mod}0$ if and only if $a=b$.
(Indeed, $a\equiv b\operatorname{mod}0$ is defined to mean $0\mid a-b$, but
the latter divisibility happens only when $a-b=0$, which is tantamount to
saying $a=b$.)

\textbf{(d)} We have $a\equiv b\operatorname{mod}1$ always, since $1\mid a-b$
always holds (remember: $1$ divides everything).
\end{example}

Note that being congruent modulo $2$ means having the same parity: i.e., two
even numbers will be congruent modulo $2$, and two odd numbers will be, but an
even number will never be congruent to an odd number modulo $2$. (To be
rigorous: This is not quite obvious at this point yet; but it will be once we
have properly introduced division with remainder.)

\href{https://en.wikipedia.org/wiki/Modulo_(jargon)}{The word
\textquotedblleft modulo\textquotedblright}\ in the phrase \textquotedblleft%
$a$ is congruent to $b$ modulo $n$\textquotedblright\ is due to Gauss and
means something like \textquotedblleft with respect to\textquotedblright. You
should think of \textquotedblleft$a$ is congruent to $b$ modulo $n$%
\textquotedblright\ as a relation between all three of the numbers $a$, $b$
and $n$, but $a$ and $b$ are the \textquotedblleft main
characters\textquotedblright\ and $n$ sets the scenery.

\begin{exercise}
Let $a,b\in\mathbb{Z}$. Prove that $a+b\equiv a-b\operatorname{mod}2$.
\end{exercise}

\begin{proof}
[Solution sketch.] By definition of congruence, this is tantamount to proving
that $2\mid\left(  a+b\right)  -\left(  a-b\right)  $. But this follows from
$\left(  a+b\right)  -\left(  a-b\right)  =2b$.
\end{proof}

\begin{proposition}
\label{prop.ent.mod.basics}Let $n\in\mathbb{Z}$.

\textbf{(a)} We have $a\equiv a\operatorname{mod}n$ for every $a\in\mathbb{Z}$.

\textbf{(b)} If $a,b,c\in\mathbb{Z}$ satisfy $a\equiv b\operatorname{mod}n$
and $b\equiv c\operatorname{mod}n$, then $a\equiv c\operatorname{mod}n$.

\textbf{(c)} If $a,b\in\mathbb{Z}$ satisfy $a\equiv b\operatorname{mod}n$,
then $b\equiv a\operatorname{mod}n$.

\textbf{(d)} If $a_{1},a_{2},b_{1},b_{2}\in\mathbb{Z}$ satisfy $a_{1}\equiv
b_{1}\operatorname{mod}n$ and $a_{2}\equiv b_{2}\operatorname{mod}n$, then%
\begin{align}
a_{1}+a_{2}  &  \equiv b_{1}+b_{2}\operatorname{mod}%
n;\label{eq.prop.ent.mod.basics.d.1}\\
a_{1}-a_{2}  &  \equiv b_{1}-b_{2}\operatorname{mod}%
n;\label{eq.prop.ent.mod.basics.d.2}\\
a_{1}a_{2}  &  \equiv b_{1}b_{2}\operatorname{mod}n.
\label{eq.prop.ent.mod.basics.d.3}%
\end{align}


\textbf{(e)} Let $m\in\mathbb{Z}$ be such that $m\mid n$. If $a,b\in
\mathbb{Z}$ satisfy $a\equiv b\operatorname{mod}n$, then $a\equiv
b\operatorname{mod}m$.
\end{proposition}

\begin{proof}
\textbf{(a)} Let $a\in\mathbb{Z}$. Recall that $a\equiv a\operatorname{mod}n$
is defined to mean $n\mid a-a$. Since $n\mid a-a$ holds (because
$a-a=0=n\cdot0$), we thus see that $a\equiv a\operatorname{mod}n$ holds. This
proves Proposition \ref{prop.ent.mod.basics} \textbf{(a)}.

\textbf{(b)} Let $a,b,c\in\mathbb{Z}$ satisfy $a\equiv b\operatorname{mod}n$
and $b\equiv c\operatorname{mod}n$.

We have $a\equiv b\operatorname{mod}n$. In other words, $n\mid a-b$ (by
Definition \ref{def.ent.cong}). In other words, there exists an integer $p$
such that $a-b=np$ (by Definition \ref{def.ent.div.div}). Consider this $p$.

We have $b\equiv c\operatorname{mod}n$. In other words, $n\mid b-c$ (by
Definition \ref{def.ent.cong}). In other words, there exists an integer $q$
such that $b-c=nq$ (by Definition \ref{def.ent.div.div}). Consider this $q$.

Now,
\[
a-c=\underbrace{\left(  a-b\right)  }_{=np}+\underbrace{\left(  b-c\right)
}_{=nq}=n\left(  p+q\right)  .
\]
Hence, there exists an integer $r$ such that $a-c=nr$ (namely, $r=p+q$). In
other words, $n\mid a-c$ (by Definition \ref{def.ent.div.div}). In other
words, $a\equiv c\operatorname{mod}n$ (by Definition \ref{def.ent.cong}). This
proves Proposition \ref{prop.ent.mod.basics} \textbf{(b)}.

\textbf{(c)} Let $a,b\in\mathbb{Z}$ satisfy $a\equiv b\operatorname{mod}n$.

We have $a\equiv b\operatorname{mod}n$. In other words, $n\mid a-b$ (by
Definition \ref{def.ent.cong}). In other words, there exists an integer $p$
such that $a-b=np$ (by Definition \ref{def.ent.div.div}). Consider this $p$.
Now,%
\[
b-a=-\underbrace{\left(  a-b\right)  }_{=np}=-np=n\left(  -p\right)  .
\]
Hence, there exists an integer $c$ such that $b-a=nc$ (namely, $c=-p$). In
other words, $n\mid b-a$ (by Definition \ref{def.ent.div.div}). In other
words, $b\equiv a\operatorname{mod}n$ (by Definition \ref{def.ent.cong}). This
proves Proposition \ref{prop.ent.mod.basics} \textbf{(c)}.

\textbf{(d)} Let $a_{1},a_{2},b_{1},b_{2}$ satisfy $a_{1}\equiv b_{1}%
\operatorname{mod}n$ and $a_{2}\equiv b_{2}\operatorname{mod}n$.

We have $a_{1}\equiv b_{1}\operatorname{mod}n$. In other words, $n\mid
a_{1}-b_{1}$ (by Definition \ref{def.ent.cong}). In other words, there exists
an integer $p$ such that $a_{1}-b_{1}=np$ (by Definition \ref{def.ent.div.div}%
). Consider this $p$.

We have $a_{2}\equiv b_{2}\operatorname{mod}n$. In other words, $n\mid
a_{2}-b_{2}$ (by Definition \ref{def.ent.cong}). In other words, there exists
an integer $q$ such that $a_{2}-b_{2}=nq$ (by Definition \ref{def.ent.div.div}%
). Consider this $q$.

We have%
\[
\left(  a_{1}+a_{2}\right)  -\left(  b_{1}+b_{2}\right)  =\underbrace{\left(
a_{1}-b_{1}\right)  }_{=np}+\underbrace{\left(  a_{2}-b_{2}\right)  }%
_{=nq}=np+nq=n\left(  p+q\right)  .
\]
Hence, there exists an integer $c$ such that $\left(  a_{1}+a_{2}\right)
-\left(  b_{1}+b_{2}\right)  =nc$ (namely, $c=p+q$). In other words,
$n\mid\left(  a_{1}+a_{2}\right)  -\left(  b_{1}+b_{2}\right)  $ (by
Definition \ref{def.ent.div.div}). In other words, $a_{1}+a_{2}\equiv
b_{1}+b_{2}\operatorname{mod}n$ (by Definition \ref{def.ent.cong}). A similar
argument (using $p-q$ instead of $p+q$) shows that $a_{1}-a_{2}\equiv
b_{1}-b_{2}\operatorname{mod}n$. It thus remains to show that $a_{1}%
a_{2}\equiv b_{1}b_{2}\operatorname{mod}n$.

Let us first show that $a_{1}a_{2}\equiv a_{1}b_{2}\operatorname{mod}n$.
Indeed, $a_{1}a_{2}-a_{1}b_{2}=a_{1}\underbrace{\left(  a_{2}-b_{2}\right)
}_{=nq}=a_{1}nq=n\left(  a_{1}q\right)  $. Hence, there exists an integer $c$
such that $a_{1}a_{2}-a_{1}b_{2}=nc$ (namely, $c=a_{1}q$). In other words,
$n\mid a_{1}a_{2}-a_{1}b_{2}$ (by Definition \ref{def.ent.div.div}). In other
words, $a_{1}a_{2}\equiv a_{1}b_{2}\operatorname{mod}n$ (by Definition
\ref{def.ent.cong}).

Next, let us show that $a_{1}b_{2}\equiv b_{1}b_{2}\operatorname{mod}n$.
Indeed, $a_{1}b_{2}-b_{1}b_{2}=b_{2}\underbrace{\left(  a_{1}-a_{2}\right)
}_{=np}=b_{2}np=n\left(  b_{2}p\right)  $. Hence, there exists an integer $c$
such that $a_{1}b_{2}-b_{1}b_{2}=nc$ (namely, $c=b_{2}p$). In other words,
$n\mid a_{1}b_{2}-b_{1}b_{2}$ (by Definition \ref{def.ent.div.div}). In other
words, $a_{1}b_{2}\equiv b_{1}b_{2}\operatorname{mod}n$ (by Definition
\ref{def.ent.cong}).

From $a_{1}a_{2}\equiv a_{1}b_{2}\operatorname{mod}n$ and $a_{1}b_{2}\equiv
b_{1}b_{2}\operatorname{mod}n$, we now conclude that $a_{1}a_{2}\equiv
b_{1}b_{2}\operatorname{mod}n$ (by Proposition \ref{prop.ent.mod.basics}
\textbf{(c)}, applied to $a=a_{1}a_{2}$, $b=a_{1}b_{2}$ and $c=b_{1}b_{2}$).
This completes the proof of Proposition \ref{prop.ent.mod.basics} \textbf{(d)}.

\textbf{(e)} Let $a,b\in\mathbb{Z}$ satisfy $a\equiv b\operatorname{mod}n$.

We have $a\equiv b\operatorname{mod}n$. In other words, $n\mid a-b$ (by
Definition \ref{def.ent.cong}). From $m\mid n$ and $n\mid a-b$, we obtain
$m\mid a-b$ (by Proposition \ref{prop.ent.div.2} \textbf{(b)}, applied to $m$,
$n$ and $a-b$ instead of $a$, $b$ and $c$). In other words, $a\equiv
b\operatorname{mod}m$ (by Definition \ref{def.ent.cong}). This proves
Proposition \ref{prop.ent.mod.basics} \textbf{(e)}.
\end{proof}

In the above proof, we took care to explicitly cite Definition
\ref{def.ent.div.div} and Definition \ref{def.ent.cong} whenever we used them;
in the following, we will not be this detailed.

Proposition \ref{prop.ent.mod.basics} \textbf{(d)} is saying that congruences
modulo $n$ (for a fixed integer $n$) can be added, subtracted and multiplied
together. This does not mean that you can do everything with them that you can
do with equalities. The next exercise shows that dividing congruences and
taking a congruence to the power of another does not generally work:

\begin{exercise}
\label{exe.ent.mod.basics-nope}Let $n,a_{1},a_{2},b_{1},b_{2}\in\mathbb{Z}$
satisfy $a_{1}\equiv b_{1}\operatorname{mod}n$ and $a_{2}\equiv b_{2}%
\operatorname{mod}n$. Then, \textbf{in general}, neither $a_{1}/a_{2}\equiv
b_{1}/b_{2}\operatorname{mod}n$ nor $a_{1}^{a_{2}}\equiv b_{1}^{b_{2}%
}\operatorname{mod}n$ is necessarily true. Of course, this is partly due to
the fact that $a_{1}/a_{2}$, $b_{1}/b_{2}$ and $a_{1}^{a_{2}}$ and
$b_{1}^{b_{2}}$ are not always integers in the first place (and being
congruent modulo $n$ only makes sense for integers, at least for now). But
even when $a_{1}/a_{2}$, $b_{1}/b_{2}$ and $a_{1}^{a_{2}}$ and $b_{1}^{b_{2}}$
are integers, the congruences $a_{1}/a_{2}\equiv b_{1}/b_{2}\operatorname{mod}%
n$ nor $a_{1}^{a_{2}}\equiv b_{1}^{b_{2}}\operatorname{mod}n$ are often false.
Find examples of $n,a_{1},a_{2},b_{1},b_{2}$ such that $a_{1}/a_{2}$,
$b_{1}/b_{2}$ and $a_{1}^{a_{2}}$ and $b_{1}^{b_{2}}$ are integers but the
congruences $a_{1}/a_{2}\equiv b_{1}/b_{2}\operatorname{mod}n$ nor
$a_{1}^{a_{2}}\equiv b_{1}^{b_{2}}\operatorname{mod}n$ are false.
\end{exercise}

\begin{proof}
[Solution sketch.] Example where $a_{1}/a_{2}\equiv b_{1}/b_{2}%
\operatorname{mod}n$ fails:
\[
3\equiv6\operatorname{mod}3\qquad\text{and}\qquad3\equiv3\operatorname{mod}3.
\]
Division would yield $3/3\equiv6/3\operatorname{mod}3$, which is false:
$3/3-6/3=-1$ is not divisible by $3$.

Example where $a_{1}^{a_{2}}\equiv b_{1}^{b_{2}}\operatorname{mod}n$ fails:%
\[
3\equiv6\operatorname{mod}3\qquad\text{and}\qquad0\equiv3\operatorname{mod}3.
\]
Exponentiation would yield $3^{0}\equiv6^{3}\operatorname{mod}3$, which is false.
\end{proof}

However, we can divide a congruence $a\equiv b\operatorname{mod}n$ by a
nonzero integer $d$ when all of $a,b,n$ are divisible by $d$:

\begin{exercise}
\label{exe.ent.mod.basics.2}Let $n,d,a,b\in\mathbb{Z}$, and assume that
$d\neq0$. Assume that $d$ divides each of $a,b,n$, and assume that $a\equiv
b\operatorname{mod}n$. Prove that $a/d\equiv b/d\operatorname{mod}n/d$.
\end{exercise}

\begin{proof}
[Solution sketch.] $a\equiv b\operatorname{mod}n$ $\Longrightarrow$ $n\mid
a-b$ $\Longrightarrow$ $n/d\mid\left(  a-b\right)  /d$ by Exercise
\ref{exe.ent.div.acbc}. But this rewrites as $n/d\mid a/d-b/d$, whence
$a/d\equiv b/d\operatorname{mod}n/d$.
\end{proof}

We can also take a congruence to the $k$-th power when $k\in\mathbb{N}$:

\begin{exercise}
\label{exe.ent.mod.basics.k-power}Let $n,a,b\in\mathbb{Z}$ be such that
$a\equiv b\operatorname{mod}n$. Prove that $a^{k}\equiv b^{k}%
\operatorname{mod}n$ for each $k\in\mathbb{N}$.
\end{exercise}

(Note that the \textquotedblleft$n$\textquotedblright\ is not being taken to
the $k$-th power here.)

\begin{proof}
[Solution sketch.] Induction on $k$.

Base case: $k=0$, trivial.

Step: Getting from $a^{\ell}\equiv b^{\ell}\operatorname{mod}n$ to $a^{\ell
+1}\equiv b^{\ell+1}\operatorname{mod}n$.

To do this, multiply the congruences $a^{\ell}\equiv b^{\ell}%
\operatorname{mod}n$ and $a\equiv b\operatorname{mod}n$.
\end{proof}

We can add not just two, but any number of congruences (where
\textquotedblleft number\textquotedblright\ means \textquotedblleft finite
number\textquotedblright):

\begin{exercise}
\label{exe.ent.mod.k-sum}Let $n$ be an integer. Let $S$ be a finite set. For
each $s\in S$, let $a_{s}$ and $b_{s}$ be two integers. Assume that%
\[
a_{s}\equiv b_{s}\operatorname{mod}n\ \ \ \ \ \ \ \ \ \ \text{for each }s\in
S.
\]


\textbf{(a)} Prove that%
\begin{equation}
\sum_{s\in S}a_{s}\equiv\sum_{s\in S}b_{s}\operatorname{mod}n.
\label{eq.exe.ent.mod.k-sum.a}%
\end{equation}


\textbf{(b)} Prove that
\begin{equation}
\prod_{s\in S}a_{s}\equiv\prod_{s\in S}b_{s}\operatorname{mod}n.
\label{eq.exe.ent.mod.k-sum.b}%
\end{equation}


(Keep in mind that if the set $S$ is empty, then $\sum_{s\in S}a_{s}%
=\sum_{s\in S}b_{s}=0$ and $\prod_{s\in S}a_{s}=\prod_{s\in S}b_{s}=1$; this
holds by the definition of empty sums and of empty products.)
\end{exercise}

\begin{proof}
[Solution sketch.] Induction on $\left\vert S\right\vert $.
\end{proof}

\begin{exercise}
\label{exe.ent.mod.prod-wrong}Is it true that if $a_{1},a_{2},b_{1}%
,b_{2},n_{1},n_{2}\in\mathbb{Z}$ satisfy $a_{1}\equiv b_{1}\operatorname{mod}%
n_{1}$ and $a_{2}\equiv b_{2}\operatorname{mod}n_{2}$, then $a_{1}a_{2}\equiv
b_{1}b_{2}\operatorname{mod}n_{1}n_{2}$ ?
\end{exercise}

\begin{proof}
[Solution sketch.] Nope. Easy to find counterexamples.
\end{proof}

\subsection{\label{sect.ent.subst-chain}Chains of congruences}

For this whole Section \ref{sect.ent.subst-chain}, we fix an integer $n$.

Chains of equalities are a fundamental piece of notation used throughout
mathematics. For example, here is a chain of equalities:%
\begin{align*}
&  \left(  ad+bc\right)  ^{2}+\left(  ac-bd\right)  ^{2}\\
&  =\left(  ad\right)  ^{2}+2ad\cdot bc+\left(  bc\right)  ^{2}+\left(
ac\right)  ^{2}-2ac\cdot bd+\left(  bd\right)  ^{2}\\
&  =a^{2}d^{2}+2abcd+b^{2}c^{2}+a^{2}c^{2}-2abcd+b^{2}d^{2}\\
&  =a^{2}c^{2}+a^{2}d^{2}+b^{2}c^{2}+b^{2}d^{2}\\
&  =\left(  a^{2}+b^{2}\right)  \left(  c^{2}+d^{2}\right)
\end{align*}
(where $a,b,c,d$ are arbitrary numbers). This chain proves the equality
(\ref{eq.intro.sum-of-2sq.sum*sum}). But why does it really? If we look
closely at this chain of equalities, we see that it has the form
\textquotedblleft$A=B=C=D=E$\textquotedblright, where $A,B,C,D,E$ are five
numbers (namely, $A=\left(  ad+bc\right)  ^{2}+\left(  ac-bd\right)  ^{2}$ and
$B=\left(  ad\right)  ^{2}+2ad\cdot bc+\left(  bc\right)  ^{2}+\left(
ac\right)  ^{2}-2ac\cdot bd+\left(  bd\right)  ^{2}$ and so on). This kind of
statement is called a \textquotedblleft chain of equalities\textquotedblright,
and, a priori, it simply means that any two \textbf{adjacent} numbers in this
chain are equal: $A=B$ and $B=C$ and $C=D$ and $D=E$. Without as much as
noticing it, we have concluded that \textbf{any} two numbers in this chain are
equal; thus, in particular, $A=E$, which is precisely the equality
(\ref{eq.intro.sum-of-2sq.sum*sum}) we wanted to prove.

That this kind of \textquotedblleft chaining\textquotedblright\ is possible is
one of the most basic facts in mathematics. Let us define a chain of
equalities formally:

\begin{definition}
If $a_{1},a_{2},\ldots,a_{k}$ are $k$ objects\footnotemark, then the statement
\textquotedblleft$a_{1}=a_{2}=\cdots=a_{k}$\textquotedblright\ shall mean
that
\[
a_{i}=a_{i+1}\text{ holds for each }i\in\left\{  1,2,\ldots,k-1\right\}  .
\]
(In other words, it shall mean that $a_{1}=a_{2}$ and $a_{2}=a_{3}$ and
$a_{3}=a_{4}$ and $\cdots$ and $a_{k-1}=a_{k}$. This is vacuously true when
$k\leq1$. If $k=2$, then it simply means that $a_{1}=a_{2}$.)

Such a statement will be called a \textit{chain of equalities}.
\end{definition}

\footnotetext{\textquotedblleft Objects\textquotedblright\ can be numbers,
sets, tuples or any other well-defined things in mathematics.}

\begin{proposition}
\label{prop.mod.chain-eq}Let $a_{1},a_{2},\ldots,a_{k}$ be $k$ objects such
that $a_{1}=a_{2}=\cdots=a_{k}$. Let $u$ and $v$ be two elements of $\left\{
1,2,\ldots,k\right\}  $. Then, $a_{u}=a_{v}$.
\end{proposition}

So we have defined a chain of equalities to be true if and only if any two
adjacent terms in this chain are equal (i.e., if \textquotedblleft each
equality sign in the chain is satisfied\textquotedblright). Proposition
\ref{prop.mod.chain-eq} shows that in such a chain, \textbf{any two} terms are
equal. This is intuitively rather clear, but can also be formally proven by
induction using the basic properties of equality
(transitivity\footnote{\textit{Transitivity of equality} says that if $a,b,c$
are three objects satisfying $a=b$ and $b=c$, then $a=c$.},
reflexivity\footnote{\textit{Reflexivity of equality} says that every object
$a$ satisfies $a=a$.} and symmetry\footnote{\textit{Symmetry of equality} says
that if $a,b$ are two objects satisfying $a=b$, then $b=a$.}).

But our goal is to understand basic number theory, not to scrutinize the
foundations of mathematics. So let us recall that we have fixed an integer
$n$, and consider congruences modulo $n$. We claim that these can be chained
just as equalities:

\begin{definition}
If $a_{1},a_{2},\ldots,a_{k}$ are $k$ integers, then the statement
\textquotedblleft$a_{1}\equiv a_{2}\equiv\cdots\equiv a_{k}\operatorname{mod}%
n$\textquotedblright\ shall mean that
\[
a_{i}\equiv a_{i+1}\operatorname{mod}n\text{ holds for each }i\in\left\{
1,2,\ldots,k-1\right\}  .
\]
(In other words, it shall mean that $a_{1}\equiv a_{2}\operatorname{mod}n$ and
$a_{2}\equiv a_{3}\operatorname{mod}n$ and $a_{3}\equiv a_{4}%
\operatorname{mod}n$ and $\cdots$ and $a_{k-1}\equiv a_{k}\operatorname{mod}%
n$. This is vacuously true when $k\leq1$. If $k=2$, then it simply means that
$a_{1}\equiv a_{2}\operatorname{mod}n$.)

Such a statement will be called a \textit{chain of congruences modulo }$n$.
\end{definition}

\begin{proposition}
\label{prop.mod.chain}Let $a_{1},a_{2},\ldots,a_{k}$ be $k$ integers such that
$a_{1}\equiv a_{2}\equiv\cdots\equiv a_{k}\operatorname{mod}n$. Let $u$ and
$v$ be two elements of $\left\{  1,2,\ldots,k\right\}  $. Then, $a_{u}\equiv
a_{v}\operatorname{mod}n$.
\end{proposition}

Proposition \ref{prop.mod.chain} shows that any two terms in a chain of
congruences modulo $n$ must be congruent to each other modulo $n$. Again, this
can be formally proven by induction; see \cite[proof of Proposition
2.16]{detnotes}. The ingredients of the proof are basic properties of
congruence modulo $n$: transitivity, reflexivity and symmetry. These are fancy
names for parts \textbf{(b)}, \textbf{(a)} and \textbf{(c)} of Proposition
\ref{prop.ent.mod.basics}.

We will use Proposition \ref{prop.mod.chain} tacitly (just as you would use
Proposition \ref{prop.mod.chain-eq}): i.e., every time we prove a chain of
congruences like $a_{1}\equiv a_{2}\equiv\cdots\equiv a_{k}\operatorname{mod}%
n$, we assume that the reader will automatically conclude that any two of its
terms are congruent to each other modulo $n$ (and will remember this
conclusion). For instance, if we show that $1\equiv4\equiv34\equiv
334\equiv304\operatorname{mod}3$, then we automatically get the congruences
$1\equiv304\operatorname{mod}3$ and $334\equiv1\operatorname{mod}3$ and
$4\equiv334\operatorname{mod}3$ and several others out of this chain.

\begin{center}
\textbf{2019-02-01 lecture}
\end{center}

\subsection{\label{sect.ent.quorem}Division with remainder}

\begin{theorem}
Let $n$ be a positive integer. Let $u\in\mathbb{Z}$. Then, there exists a
unique pair $\left(  q,r\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots
,n-1\right\}  $ such that $u=qn+r$.
\end{theorem}

To prove this, let us proceed in small steps. First, uniqueness:

\begin{lemma}
(Uniqueness) Let $n$ be a positive integer. Let $u\in\mathbb{Z}$. Then, there
exists \textbf{at most one} pair $\left(  q,r\right)  \in\mathbb{Z}%
\times\left\{  0,1,\ldots,n-1\right\}  $ such that $u=qn+r$.
\end{lemma}

\begin{proof}
Assume that $\left(  q_{1},r_{1}\right)  $ and $\left(  q_{2},r_{2}\right)  $
are two such pairs. We must show that $\left(  q_{1},r_{1}\right)  =\left(
q_{2},r_{2}\right)  $.

We have $\left(  q_{1},r_{1}\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ and $u=q_{1}n+r_{1}$.

We have $\left(  q_{2},r_{2}\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ and $u=q_{2}n+r_{2}$.

Both $r_{1}$ and $r_{2}$ belong to $\left\{  0,1,\ldots,n-1\right\}  $. Hence,
$\left\vert r_{2}-r_{1}\right\vert \leq n-1<n$.

On the other hand, $q_{1}n+r_{1}=u=q_{2}n+r_{2}$. Thus%
\begin{align*}
q_{1}n-q_{2}n  & =r_{2}-r_{1},\ \ \ \ \ \ \ \ \ \ \text{so}\\
\left(  q_{1}-q_{2}\right)  n  & =r_{2}-r_{1},\ \ \ \ \ \ \ \ \ \ \text{so}\\
\left\vert \left(  q_{1}-q_{2}\right)  n\right\vert  & =\left\vert r_{2}%
-r_{1}\right\vert <n,\ \ \ \ \ \ \ \ \ \ \text{so}\\
n  & >\left\vert \left(  q_{1}-q_{2}\right)  n\right\vert =\left\vert
q_{1}-q_{2}\right\vert n,\ \ \ \ \ \ \ \ \ \ \text{so}\\
1  & >\left\vert q_{1}-q_{2}\right\vert ,\ \ \ \ \ \ \ \ \ \ \text{so}\\
\left\vert q_{1}-q_{2}\right\vert  & =0\ \ \ \ \ \ \ \ \ \ \left(  \text{since
}\left\vert q_{1}-q_{2}\right\vert \in\mathbb{N}\right)
,\ \ \ \ \ \ \ \ \ \ \text{so}\\
q_{1}  & =q_{2},\ \ \ \ \ \ \ \ \ \ \text{so}\\
r_{1}  & =r_{2}\ \ \ \ \ \ \ \ \ \ \left(  \text{since }\left(  q_{1}%
-q_{2}\right)  n=r_{2}-r_{1}\right)  .
\end{align*}
Thus, $\left(  q_{1},r_{1}\right)  =\left(  q_{2},r_{2}\right)  $. This proves
the uniqueness lemma.
\end{proof}

Next, let us prove existence in the case $u\in\mathbb{N}$:

\begin{lemma}
(Existence for nonnegative integers) Let $n$ be a positive integer. Let
$u\in\mathbb{N}$. Then, there exists \textbf{at least one} pair $\left(
q,r\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots,n-1\right\}  $ such that
$u=qn+r$.
\end{lemma}

\begin{proof}
\textbf{Strong} induction on $u$:

Fix $U\in\mathbb{N}$.

Assume (as the induction hypothesis) that the existence lemma holds for all
$u<U$.

We must show that it also holds for $u=U$.

We are in one of two cases:

\textit{Case 1:} We have $U<n$.

\textit{Case 2:} We have $U\geq n$.

In Case 1, we have $U<n$. Thus, $U\in\left\{  0,1,\ldots,n-1\right\}  $. Thus,
$\left(  0,U\right)  $ is a pair $\left(  q,r\right)  $ as we want. So our
goal is achieved in Case 1.

In Case 2, we have $U\geq n$. Thus, $U-n\in\mathbb{N}$ and $U-n<U$. Thus, by
induction hypothesis, the lemma holds for $u=U-n$. This means there exists a
pair $\left(  q,r\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots,n-1\right\}
$ such that $U-n=qn+r$. Fix such a pair and call it $\left(  q_{0}%
,r_{0}\right)  $.

So $\left(  q_{0},r_{0}\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots
,n-1\right\}  $ and $U-n=q_{0}n+r_{0}$.

Hence, $\left(  q_{0}+1,r_{0}\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ and $U=\left(  q_{0}+1\right)  n+r_{0}$.

Thus, there exists a pair $\left(  q,r\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ such that $U=qn+r$ (namely, $\left(  q_{0}%
+1,r_{0}\right)  $). So our goal is achieved in Case 2.

This completes the induction, so the lemma is proven.
\end{proof}

\begin{lemma}
(Existence for arbitrary integers) Let $n$ be a positive integer. Let
$u\in\mathbb{Z}$. Then, there exists \textbf{at least one} pair $\left(
q,r\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots,n-1\right\}  $ such that
$u=qn+r$.
\end{lemma}

\begin{proof}
\textit{Case 1:} $u\geq0$.

\textit{Case 2:} $u<0$.

In Case 1, we have $u\geq0$, so $u\in\mathbb{N}$, and thus our claim follows
from the previous lemma.

In Case 2, we have $u<0$. Set $v=\left(  n-1\right)  \left(  -u\right)  $;
then $v\in\mathbb{N}$ (since $n-1\in\mathbb{N}$ and $-u\in\mathbb{N}$). Hence,
the previous lemma (applied to $v$ instead of $u$) yields that there exists
\textbf{at least one} pair $\left(  q,r\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ such that $v=qn+r$. Fix such a pair $\left(
q,r\right)  $ and call it $\left(  q_{0},r_{0}\right)  $.

Thus, $\left(  q_{0},r_{0}\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots
,n-1\right\}  $ and $v=q_{0}n+r_{0}$. Now, $u=v+un$ (since $v+un=\left(
n-1\right)  \left(  -u\right)  +un=u$). Thus%
\[
u=\underbrace{v}_{=q_{0}n+r_{0}}+un=\left(  q_{0}+u\right)  n+r_{0}.
\]
Hence, there exists \textbf{at least one} pair $\left(  q,r\right)
\in\mathbb{Z}\times\left\{  0,1,\ldots,n-1\right\}  $ such that $u=qn+r$
(namely, $\left(  q_{0}+u,r_{0}\right)  $). So we are done in Case 2 as well.
\end{proof}



\begin{proof}
[Proof of Theorem.] Combine the Uniqueness and Existence lemmas.
\end{proof}

\begin{definition}
Let $n$ be a positive integer. Let $u\in\mathbb{Z}$. The Theorem says that
there exists a unique pair $\left(  q,r\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ such that $u=qn+r$.

We call $q$ the \textbf{quotient} of the division of $u$ by $n$, and denote it
by $u//n$.

We call $r$ the \textbf{remainder }of the division of $u$ by $n$, and denote
it by $u\%n$.
\end{definition}

\begin{corollary}
Let $n$ be a positive integer. Let $u\in\mathbb{Z}$.

\textbf{(a)} We have $u\%n\in\left\{  0,1,\ldots,n-1\right\}  $ and
$u\%n\equiv u\operatorname{mod}n$.

\textbf{(b)} We have $n\mid u$ if and only if $u\%n=0$.

\textbf{(c)} If $c\in\left\{  0,1,\ldots,n-1\right\}  $ such that $c\equiv
u\operatorname{mod}n$, then $c=u\%n$.

\textbf{(d)} We have $u=\left(  u//n\right)  n+\left(  u\%n\right)  $.
\end{corollary}

\begin{proof}
We know that $\left(  u//n,u\%n\right)  $ is the unique pair $\left(
q,r\right)  \in\mathbb{Z}\times\left\{  0,1,\ldots,n-1\right\}  $ such that
$u=qn+r$. Thus, $\left(  u//n,u\%n\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ and $u=\left(  u//n\right)  n+\left(  u\%n\right)
$. This proves part \textbf{(d)}.

Thus, $u\%n\in\left\{  0,1,\ldots,n-1\right\}  $. Moreover, $u=\left(
u//n\right)  n+\left(  u\%n\right)  $; thus, $\left(  u\%n\right)  -u=-\left(
u//n\right)  n$ is divisible by $n$. In other words, $u\%n\equiv
u\operatorname{mod}n$. So part \textbf{(a)} is proven.

\textbf{(b)} $\Longleftarrow:$ If $u\%n=0$, then $u=\left(  u//n\right)
n+\underbrace{\left(  u\%n\right)  }_{=0}=\left(  u//n\right)  n$, whence
$n\mid u$.

$\Longrightarrow:$ Assume that $n\mid u$. Thus, $u=cn$ for some integer $c$.
So $\left(  c,0\right)  $ is another pair $\left(  q,r\right)  \in
\mathbb{Z}\times\left\{  0,1,\ldots,n-1\right\}  $ such that $u=qn+r$. But
since such a pair is unique, we thus conclude that $\left(  c,0\right)
=\left(  u//n,u\%n\right)  $. Hence, $c=u//n$ and $0=u\%n$. In particular,
$u\%n=0$.

\textbf{(c)} Let $c\in\left\{  0,1,\ldots,n-1\right\}  $ such that $c\equiv
u\operatorname{mod}n$. Thus, $n\mid c-u$. Hence, there is an integer $d$ such
that $c-u=nd$. Thus, $u=c-nd=\left(  -d\right)  n+c$. So $\left(  -d,c\right)
$ is another pair $\left(  q,r\right)  \in\mathbb{Z}\times\left\{
0,1,\ldots,n-1\right\}  $ such that $u=qn+r$. But since such a pair is unique,
we thus conclude that $\left(  -d,c\right)  =\left(  u//n,u\%n\right)  $.
Hence, $-d=u//n$ and $c=u\%n$. So \textbf{(c)} is proven.
\end{proof}

\begin{corollary}
Let $n$ be a positive integer. Let $u,v\in\mathbb{Z}$. Then, $u\equiv
v\operatorname{mod}n$ if and only if $u\%n=v\%n$.
\end{corollary}

\begin{exercise}
Prove this corollary.
\end{exercise}


\end{document}